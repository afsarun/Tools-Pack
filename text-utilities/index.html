<!DOCTYPE html>
<html lang="en" data-locale="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>Text Utilities Case Converter & Word Counter</title>
    <meta
      name="description"
      content="Upper/lowercase, title/sentence case, collapse/remove spaces, and live word/character count ‚Äî all in your browser, privacy-first."
    />
    <meta
      name="robots"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />

    <link rel="stylesheet" href="/assets/style.css" />
    <meta name="theme-color" content="#1E1E2F" />

    <!-- Canonical & hreflang -->
    <link rel="canonical" href="https://utilityera.com/text-utilities/" />
    <link
      rel="alternate"
      hreflang="en"
      href="https://utilityera.com/text-utilities/"
    />
    <link
      rel="alternate"
      hreflang="bn"
      href="https://utilityera.com/bn/text-utilities/"
    />
    <link
      rel="alternate"
      hreflang="x-default"
      href="https://utilityera.com/text-utilities/"
    />

    <!-- Open Graph / Twitter -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="utilityera" />
    <meta property="og:title" content="Text Utilities ‚Äî utilityera" />
    <meta
      property="og:description"
      content="Clean text, convert case, count words/characters ‚Äî fast and private."
    />
    <meta property="og:url" content="https://utilityera.com/text-utilities/" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:locale:alternate" content="bn_BD" />

    <!-- ‚úÖ Prefer webp for OG (1200√ó630) -->
    <meta
      property="og:image"
      content="https://utilityera.com/assets/og/text-utilities-en.webp"
    />
    <meta
      property="og:image:secure_url"
      content="https://utilityera.com/assets/og/text-utilities-en.webp"
    />
    <meta property="og:image:type" content="image/webp" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta
      property="og:image:alt"
      content="Text Utilities ‚Äî case converter & word counter"
    />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Text Utilities ‚Äî utilityera" />
    <meta
      name="twitter:description"
      content="Convert case and count words/characters ‚Äî works entirely in your browser."
    />
    <meta
      name="twitter:image"
      content="https://utilityera.com/assets/og/text-utilities-en.webp"
    />
    <script src="/assets/theme.js" defer></script>
    <!-- JSON-LD: WebApplication (upgraded) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "@id": "https://utilityera.com/text-utilities/#app",
        "name": "Text Utilities",
        "url": "https://utilityera.com/text-utilities/",
        "image": "https://utilityera.com/assets/og/text-utilities-en.webp",
        "applicationCategory": "Utility",
        "operatingSystem": "All",
        "inLanguage": "en",
        "isAccessibleForFree": true,
        "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
        "description": "Case conversion (upper/lower/title/sentence), whitespace cleanup, remove duplicates, and live word/character count ‚Äî all client-side."
      }
    </script>

    <!-- Structured data: global-breadcrumbs -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://utilityera.com/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Text Tools",
            "item": "https://utilityera.com/#text"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "Text Utilities",
            "item": "https://utilityera.com/text-utilities/"
          }
        ]
      }
    </script>

    <!-- Structured data: FAQ (matches visible FAQ) -->
    <script type="application/ld+json" id="faq-jsonld">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "Do you send my text to a server?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "No. All actions (case change, space cleanup, copy, counting) happen locally in your browser. Your text is not uploaded."
            }
          },
          {
            "@type": "Question",
            "name": "How is the word count calculated?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Words are counted by splitting on whitespace using a simple regex (\\S+). Characters include everything you see, including spaces and newlines."
            }
          },
          {
            "@type": "Question",
            "name": "What‚Äôs the difference between ‚ÄúCollapse spaces‚Äù and ‚ÄúRemove ALL spaces‚Äù?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Collapse spaces replaces any run of whitespace (\\s+) with a single space and trims the ends. Remove ALL spaces deletes all whitespace entirely (spaces, tabs, newlines)."
            }
          },
          {
            "@type": "Question",
            "name": "Will punctuation, emojis, or non-Latin scripts change?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "No. Case conversion affects letters only. Punctuation and emojis are preserved. Scripts without case (e.g., Bengali) are unaffected by UPPER/lower conversion."
            }
          },
          {
            "@type": "Question",
            "name": "Does it work offline?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes. After the first load, the page continues to work offline."
            }
          },
          {
            "@type": "Question",
            "name": "Is there a size limit?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "There is no hard limit, but very large pastes may feel slow on low-memory devices. For extremely large texts, process in chunks."
            }
          }
        ]
      }
    </script>
    <style>
      /* CSS Variables for Colors */
      :root {
        /* Primary Colors */
        --primary-50: #f8fafc;
        --primary-100: #f1f5f9;
        --primary-200: #e2e8f0;
        --primary-300: #cbd5e1;
        --primary-400: #94a3b8;
        --primary-500: #64748b;
        --primary-600: #475569;
        --primary-700: #334155;
        --primary-800: #1e293b;
        --primary-900: #0f172a;

        /* Semantic Colors */
        --text-primary: #111827;
        --text-secondary: #6b7280;
        --text-muted: #94a3b8;

        --bg-primary: #ffffff;
        --bg-secondary: #f8fafc;
        --bg-tertiary: #f1f5f9;

        --border-light: #e5e7eb;
        --border-medium: #cbd5e1;

        /* Brand Colors */
        --brand-primary: #4f46e5;
        --brand-secondary: #6366f1;
        --brand-accent: #8b5cf6;

        /* Status Colors */
        --success: #10b981;
        --success-light: #22c55e;
        --error: #ef4444;
        --warning: #f59e0b;
        --info: #3b82f6;

        /* Tool Colors */
        --tool-uppercase: #8b5cf6;
        --tool-lowercase: #3b82f6;
        --tool-titlecase: #10b981;
        --tool-sentencecase: #f59e0b;
        --tool-capitalizewords: #ec4899;
        --tool-togglecase: #f43f5e;

        /* Spacing */
        --spacing-xs: 4px;
        --spacing-sm: 8px;
        --spacing-md: 12px;
        --spacing-lg: 16px;
        --spacing-xl: 20px;
        --spacing-2xl: 24px;

        /* Border Radius */
        --radius-sm: 6px;
        --radius-md: 8px;
        --radius-lg: 12px;

        /* Shadows */
        --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.06);
        --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.06);
        --shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.15);

        /* Transitions */
        --transition-fast: 0.2s;
        --transition-normal: 0.3s;
      }

      /* CSS Reset & Base Styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: system-ui, -apple-system, sans-serif;
      }

      body {
        background-color: var(--bg-tertiary);
        color: var(--text-primary);
        line-height: 1.5;
      }

      /* Layout Container */
      .container {
        display: flex;
        max-width: 1400px;
        margin: 0 auto;
        gap: var(--spacing-2xl);
        padding: var(--spacing-2xl);
      }

      /* Header Section */
      .header {
        background-color: var(--bg-secondary);
        padding: var(--spacing-2xl);
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow-md);
        margin-bottom: var(--spacing-2xl);
        position: relative;
      }

      .header h1 {
        font-size: 24px;
        font-weight: 600;
        margin-bottom: var(--spacing-xs);
      }

      .header p {
        color: var(--text-secondary);
        font-size: 16px;
        font-weight: 400;
      }

      .favorite-icon {
        position: absolute;
        top: var(--spacing-2xl);
        right: var(--spacing-2xl);
        font-size: 22px;
        color: var(--text-muted);
        cursor: pointer;
        transition: color var(--transition-fast);
      }

      .favorite-icon.active {
        color: #fbbf24;
        fill: #fbbf24;
      }

      /* Stats Bar Section */
      .stats-bar {
        display: flex;
        gap: var(--spacing-lg);
        margin-bottom: var(--spacing-2xl);
      }

      .stat-box {
        background-color: var(--bg-primary);
        border: 1px solid var(--border-light);
        border-radius: var(--radius-lg);
        padding: var(--spacing-xl);
        flex: 1;
        text-align: center;
        box-shadow: var(--shadow-md);
      }

      .stat-number {
        font-size: 32px;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: var(--spacing-sm);
      }

      .stat-label {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--spacing-sm);
        color: var(--text-secondary);
        font-size: 14px;
      }

      .stat-label i {
        font-size: 18px;
        color: var(--text-muted);
      }

      /* Sidebar Section */
      .sidebar {
        flex: 0 0 25%;
        display: flex;
        flex-direction: column;
        gap: var(--spacing-2xl);
      }

      .sidebar-section {
        background-color: var(--bg-primary);
        border-radius: var(--radius-lg);
        padding: var(--spacing-xl);
        box-shadow: var(--shadow-md);
      }

      .sidebar-item {
        display: flex;
        align-items: center;
        gap: var(--spacing-md);
        padding: var(--spacing-md) var(--spacing-sm);
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: all var(--transition-fast);
      }

      .sidebar-item:hover {
        background-color: var(--bg-tertiary);
        transform: translateX(4px);
      }

      .sidebar-item i {
        font-size: 18px;
      }

      .category-item {
        color: var(--text-primary);
      }

      .category-item i {
        color: var(--primary-500);
      }

      .tool-item {
        color: var(--text-primary);
      }

      /* Tool-specific icon colors */
      .tool-item[data-tool="uppercase"] i {
        color: var(--tool-uppercase);
      }
      .tool-item[data-tool="lowercase"] i {
        color: var(--tool-lowercase);
      }
      .tool-item[data-tool="titlecase"] i {
        color: var(--tool-titlecase);
      }
      .tool-item[data-tool="sentencecase"] i {
        color: var(--tool-sentencecase);
      }
      .tool-item[data-tool="capitalizewords"] i {
        color: var(--tool-capitalizewords);
      }
      .tool-item[data-tool="togglecase"] i {
        color: var(--tool-togglecase);
      }

      /* Main Content Section */
      .main-content {
        flex: 0 0 75%;
        display: flex;
        flex-direction: column;
        gap: var(--spacing-2xl);
      }

      .panel {
        background-color: var(--bg-primary);
        border: 1px solid var(--border-light);
        border-radius: var(--radius-lg);
        padding: var(--spacing-xl);
        box-shadow: var(--shadow-md);
        flex: 1;
      }

      .panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: var(--spacing-lg);
      }

      .panel-title {
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
        font-size: 18px;
        font-weight: 600;
      }

      .input-panel .panel-title i {
        color: var(--brand-secondary);
        font-size: 20px;
      }

      .output-panel .panel-title i {
        color: var(--success-light);
        font-size: 20px;
      }

      .button-group {
        display: flex;
        gap: var(--spacing-sm);
      }

      .btn {
        display: flex;
        align-items: center;
        gap: var(--spacing-xs);
        padding: var(--spacing-sm) var(--spacing-md);
        border: none;
        border-radius: var(--radius-sm);
        font-size: 14px;
        cursor: pointer;
        transition: all var(--transition-fast);
      }

      .btn:hover {
        transform: translateY(-1px);
        box-shadow: var(--shadow-sm);
      }

      .btn:active {
        transform: translateY(0);
      }

      .btn-paste {
        background-color: var(--info);
        color: white;
      }

      .btn-clear {
        background-color: var(--error);
        color: white;
      }

      .btn-copy {
        background-color: var(--success-light);
        color: white;
      }

      .btn-download {
        background-color: var(--brand-accent);
        color: white;
      }

      .btn-use-input {
        background-color: var(--info);
        color: white;
      }

      .text-area {
        width: 100%;
        height: 300px;
        padding: var(--spacing-lg);
        border: 1px solid var(--border-light);
        border-radius: var(--radius-md);
        background-color: var(--bg-secondary);
        font-size: 16px;
        resize: vertical;
        color: var(--text-primary);
        font-family: inherit;
      }

      .text-area::placeholder {
        color: var(--text-muted);
      }
      .containers {
        max-width: 1250px;
        margin: 0 auto;
      }
      /* Responsive Design */
      @media (max-width: 1024px) {
        .container {
          flex-direction: column;
        }

        .sidebar,
        .main-content {
          flex: 1;
        }

        .stats-bar {
          flex-wrap: wrap;
        }

        .stat-box {
          flex: 1 0 calc(50% - 8px);
        }
      }

      @media (max-width: 768px) {
        .container {
          padding: var(--spacing-lg);
        }

        .stats-bar {
          flex-direction: column;
        }

        .stat-box {
          flex: 1;
        }

        .panel-header {
          flex-direction: column;
          align-items: flex-start;
          gap: var(--spacing-md);
        }

        .button-group {
          width: 100%;
          justify-content: flex-end;
        }
      }

      /* Active State for Tools */
      .tool-item.active {
        background-color: var(--brand-primary);
        color: white;
      }

      .tool-item.active i {
        color: white !important;
      }

      /* Notification Toast */
      .toast {
        position: fixed;
        bottom: var(--spacing-2xl);
        right: var(--spacing-2xl);
        background-color: var(--success);
        color: white;
        padding: var(--spacing-md) var(--spacing-xl);
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-lg);
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
        opacity: 0;
        transform: translateY(20px);
        transition: opacity var(--transition-normal),
          transform var(--transition-normal);
        z-index: 1000;
      }

      .toast.show {
        opacity: 1;
        transform: translateY(0);
      }

      .toast.error {
        background-color: var(--error);
      }

      /* Tool sections */
      .tool-section {
        display: none;
      }

      .tool-section.active {
        display: block;
      }

      /* Find & Replace Panel */
      .find-replace-panel {
        margin-top: var(--spacing-lg);
        padding: var(--spacing-lg);
        background-color: var(--bg-secondary);
        border-radius: var(--radius-md);
        border: 1px solid var(--border-light);
      }

      .find-replace-inputs {
        display: flex;
        gap: var(--spacing-md);
        margin-bottom: var(--spacing-md);
      }

      .find-replace-inputs input {
        flex: 1;
        padding: var(--spacing-sm) var(--spacing-md);
        border: 1px solid var(--border-light);
        border-radius: var(--radius-sm);
        font-size: 14px;
      }

      .find-replace-options {
        display: flex;
        gap: var(--spacing-md);
        margin-bottom: var(--spacing-md);
      }

      .find-replace-options label {
        display: flex;
        align-items: center;
        gap: var(--spacing-xs);
        font-size: 14px;
        color: var(--text-secondary);
      }

      .find-replace-actions {
        display: flex;
        gap: var(--spacing-sm);
      }

      .btn-find {
        background-color: var(--info);
        color: white;
      }

      .btn-replace {
        background-color: var(--warning);
        color: white;
      }

      .btn-replace-all {
        background-color: var(--success);
        color: white;
      }
    </style>
  </head>
  <body>
    <header class="sticky">
      <div class="wrap brand">
        <a href="/" class="logo" aria-label="utilityera Home">
          <img
            src="/assets/logo.webp"
            alt="utilityera"
            width="120"
            height="60"
          />
        </a>
        <div>
          <p class="site-title" style="margin: 0">Text Utilities</p>
        </div>
        <div style="margin-left: auto">
          <a class="muted" href="/bn/text-utilities/" hreflang="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</a>
        </div>
      </div>
    </header>
    <!-- Ad #1: top banner (constrained, no full-width expansion) -->

    <div class="containers">
      <nav class="global-breadcrumbs" aria-label="breadcrumb">
        <a href="/">Home</a> ‚Ä∫ <a href="/#text">Text Tools</a> ‚Ä∫
        <span>Text Utilities</span>
      </nav>
      <header class="global-top-header">
        <h1>Text Utilities ‚Äî Simple & <br />Handy Tools</h1>
        <p class="tagline">
          Perform quick text operations like <strong>case conversion</strong>,
          <strong>whitespace trimming</strong>, <strong>line sorting</strong>,
          and <strong>character/word counts</strong>.
        </p>
      </header>

      <!-- Quick global-toc -->

      <p class="global-toc" aria-label="Table of Contents">
        <a href="#tool">Tool</a> ¬∑ <a href="#where">Where to use </a> ¬∑
        <a href="#best-practices">Best Practices</a> ¬∑
        <a href="#details">Details</a> ¬∑ <a href="#faq">FAQ</a> ¬∑
        <a href="#related">Related tools</a>
      </p>
      <main class="wrap">
        <!-- global-breadcrumbs -->

        <div class="container">
          <!-- Left Sidebar -->
          <aside class="sidebar">
            <!-- Categories Section -->
            <div class="sidebar-section">
              <div
                class="sidebar-item category-item"
                data-category="case-transform"
              >
                <i class="ri-text"></i>
                <span>Case Transform</span>
              </div>
              <div
                class="sidebar-item category-item"
                data-category="line-operations"
              >
                <i class="ri-list-check"></i>
                <span>Line Operations</span>
              </div>
              <div
                class="sidebar-item category-item"
                data-category="clean-format"
              >
                <i class="ri-brush-line"></i>
                <span>Clean & Format</span>
              </div>
              <div
                class="sidebar-item category-item"
                data-category="extract-find"
              >
                <i class="ri-search-line"></i>
                <span>Extract & Find</span>
              </div>
              <div
                class="sidebar-item category-item"
                data-category="encode-decode"
              >
                <i class="ri-code-s-slash-line"></i>
                <span>Encode & Decode</span>
              </div>
            </div>

            <!-- Tools Section -->
            <div class="sidebar-section">
              <!-- Case Transform Tools -->
              <div class="tool-section active" id="case-transform-tools">
                <div
                  class="sidebar-item tool-item active"
                  data-tool="uppercase"
                >
                  <i class="ri-arrow-up-line"></i>
                  <span>UPPERCASE</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="lowercase">
                  <i class="ri-arrow-down-line"></i>
                  <span>lowercase</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="titlecase">
                  <i class="ri-heading"></i>
                  <span>Title Case</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="sentencecase">
                  <i class="ri-text"></i>
                  <span>Sentence case</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="capitalizewords">
                  <i class="ri-font-size-2"></i>
                  <span>Capitalize Words</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="togglecase">
                  <i class="ri-swap-line"></i>
                  <span>tOGGLE cASE</span>
                </div>
              </div>

              <!-- Line Operations Tools -->
              <div class="tool-section" id="line-operations-tools">
                <div
                  class="sidebar-item tool-item"
                  data-tool="remove-duplicates"
                >
                  <i class="ri-delete-bin-line"></i>
                  <span>Remove Duplicates</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="sort-az">
                  <i class="ri-sort-asc"></i>
                  <span>Sort A‚ÄìZ</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="sort-za">
                  <i class="ri-sort-desc"></i>
                  <span>Sort Z‚ÄìA</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="reverse-lines">
                  <i class="ri-arrow-left-right-line"></i>
                  <span>Reverse Lines</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="shuffle-lines">
                  <i class="ri-shuffle-line"></i>
                  <span>Shuffle Lines</span>
                </div>
                <div
                  class="sidebar-item tool-item"
                  data-tool="add-line-numbers"
                >
                  <i class="ri-list-ordered"></i>
                  <span>Add Line Numbers</span>
                </div>
                <div
                  class="sidebar-item tool-item"
                  data-tool="add-prefix-suffix"
                >
                  <i class="ri-text-wrap"></i>
                  <span>Add Prefix/Suffix</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="join-lines">
                  <i class="ri-merge-cells-horizontal"></i>
                  <span>Join Lines</span>
                </div>
                <div
                  class="sidebar-item tool-item"
                  data-tool="split-by-delimiter"
                >
                  <i class="ri-split-cells-horizontal"></i>
                  <span>Split by Delimiter</span>
                </div>
              </div>

              <!-- Clean & Format Tools -->
              <div class="tool-section" id="clean-format-tools">
                <div
                  class="sidebar-item tool-item"
                  data-tool="remove-empty-lines"
                >
                  <i class="ri-delete-bin-line"></i>
                  <span>Remove Empty Lines</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="trim-whitespace">
                  <i class="ri-scissors-line"></i>
                  <span>Trim Whitespace</span>
                </div>
                <div
                  class="sidebar-item tool-item"
                  data-tool="remove-extra-spaces"
                >
                  <i class="ri-space"></i>
                  <span>Remove Extra Spaces</span>
                </div>
                <div
                  class="sidebar-item tool-item"
                  data-tool="remove-special-chars"
                >
                  <i class="ri-emotion-unhappy-line"></i>
                  <span>Remove Special Chars</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="remove-numbers">
                  <i class="ri-number-1"></i>
                  <span>Remove Numbers</span>
                </div>
                <div
                  class="sidebar-item tool-item"
                  data-tool="remove-punctuation"
                >
                  <i class="ri-comma"></i>
                  <span>Remove Punctuation</span>
                </div>
                <div
                  class="sidebar-item tool-item"
                  data-tool="normalize-spaces"
                >
                  <i class="ri-align-justify"></i>
                  <span>Normalize Spaces</span>
                </div>
              </div>

              <!-- Extract & Find Tools -->
              <div class="tool-section" id="extract-find-tools">
                <div class="sidebar-item tool-item" data-tool="extract-emails">
                  <i class="ri-mail-line"></i>
                  <span>Extract Emails</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="extract-urls">
                  <i class="ri-links-line"></i>
                  <span>Extract URLs</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="extract-numbers">
                  <i class="ri-number-1"></i>
                  <span>Extract Numbers</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="extract-phones">
                  <i class="ri-phone-line"></i>
                  <span>Extract Phones</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="word-frequency">
                  <i class="ri-bar-chart-2-line"></i>
                  <span>Word Frequency</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="find-replace">
                  <i class="ri-search-line"></i>
                  <span>Find & Replace</span>
                </div>
              </div>

              <!-- Encode & Decode Tools -->
              <div class="tool-section" id="encode-decode-tools">
                <div class="sidebar-item tool-item" data-tool="reverse-text">
                  <i class="ri-arrow-left-right-line"></i>
                  <span>Reverse Text</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="html-encode">
                  <i class="ri-code-line"></i>
                  <span>HTML Encode</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="html-decode">
                  <i class="ri-code-s-slash-line"></i>
                  <span>HTML Decode</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="slugify">
                  <i class="ri-link"></i>
                  <span>Slugify</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="to-json-array">
                  <i class="ri-braces-line"></i>
                  <span>To JSON Array</span>
                </div>
                <div class="sidebar-item tool-item" data-tool="to-csv">
                  <i class="ri-table-line"></i>
                  <span>To CSV</span>
                </div>
              </div>
            </div>
          </aside>

          <!-- Main Content Area -->
          <main class="main-content">
            <!-- Stats Bar -->
            <div class="stats-bar">
              <div class="stat-box">
                <div class="stat-number" id="char-count">0</div>
                <div class="stat-label">
                  <i class="ri-text"></i>
                  <span>Characters</span>
                </div>
              </div>
              <div class="stat-box">
                <div class="stat-number" id="word-count">0</div>
                <div class="stat-label">
                  <i class="ri-align-justify"></i>
                  <span>Words</span>
                </div>
              </div>
              <div class="stat-box">
                <div class="stat-number" id="line-count">0</div>
                <div class="stat-label">
                  <i class="ri-line-height"></i>
                  <span>Lines</span>
                </div>
              </div>
              <div class="stat-box">
                <div class="stat-number" id="sentence-count">0</div>
                <div class="stat-label">
                  <i class="ri-file-text-line"></i>
                  <span>Sentences</span>
                </div>
              </div>
            </div>

            <!-- Input Panel -->
            <div class="panel input-panel">
              <div class="panel-header">
                <div class="panel-title">
                  <i class="ri-edit-2-line"></i>
                  <span>Input Text</span>
                </div>
                <div class="button-group">
                  <button class="btn btn-paste" id="paste-btn">
                    <i class="ri-clipboard-line"></i>
                    <span>Paste</span>
                  </button>
                  <button class="btn btn-clear" id="clear-btn">
                    <i class="ri-close-line"></i>
                    <span>Clear</span>
                  </button>
                </div>
              </div>
              <textarea
                class="text-area"
                id="input-text"
                placeholder="Enter or paste your text here...

Try these features:
‚Ä¢ Transform case (UPPER, lower, Title Case)
‚Ä¢ Remove duplicates and sort lines
‚Ä¢ Extract emails, URLs, phone numbers
‚Ä¢ Find & replace text
‚Ä¢ Clean and format text
‚Ä¢ And 30+ more tools!"
              ></textarea>
            </div>

            <!-- Output Panel -->
            <div class="panel output-panel">
              <div class="panel-header">
                <div class="panel-title">
                  <i class="ri-checkbox-circle-line"></i>
                  <span>Output</span>
                </div>
                <div class="button-group">
                  <button class="btn btn-copy" id="copy-btn">
                    <i class="ri-file-copy-line"></i>
                    <span>Copy</span>
                  </button>
                  <button class="btn btn-download" id="download-btn">
                    <i class="ri-download-line"></i>
                    <span>Download</span>
                  </button>
                  <button class="btn btn-use-input" id="use-input-btn">
                    <i class="ri-upload-2-line"></i>
                    <span>Use as Input</span>
                  </button>
                </div>
              </div>
              <textarea
                class="text-area"
                id="output-text"
                placeholder="Processed text will appear here..."
                readonly
              ></textarea>

              <!-- Find & Replace Panel (shown only when Find & Replace tool is active) -->
              <div
                class="find-replace-panel"
                id="find-replace-panel"
                style="display: none"
              >
                <div class="find-replace-inputs">
                  <input type="text" id="find-input" placeholder="Find..." />
                  <input
                    type="text"
                    id="replace-input"
                    placeholder="Replace with..."
                  />
                </div>
                <div class="find-replace-options">
                  <label>
                    <input type="checkbox" id="case-sensitive" />
                    Case sensitive
                  </label>
                  <label>
                    <input type="checkbox" id="whole-word" />
                    Whole word
                  </label>
                </div>
                <div class="find-replace-actions">
                  <button class="btn btn-find" id="find-btn">
                    <i class="ri-search-line"></i>
                    <span>Find</span>
                  </button>
                  <button class="btn btn-replace" id="replace-btn">
                    <i class="ri-refresh-line"></i>
                    <span>Replace</span>
                  </button>
                  <button class="btn btn-replace-all" id="replace-all-btn">
                    <i class="ri-refresh-line"></i>
                    <span>Replace All</span>
                  </button>
                </div>
              </div>
            </div>
          </main>
        </div>

        <!-- Notification Toast -->
        <div class="toast" id="toast">
          <i class="ri-check-line"></i>
          <span id="toast-message">Operation completed successfully</span>
        </div>

        <!-- Examples -->
        <div class="card" id="where">
          <h2>Common Use Cases &amp; Examples</h2>
          <div class="examples">
            <!-- Applications -->
            <div class="example">
              <div class="example-title">‚úçÔ∏è Copywriting</div>
              <div class="example-content">
                Headlines, sentence-case paragraphs
              </div>
              <span class="badge">title/sentence</span>
            </div>

            <div class="example">
              <div class="example-title">üóÇ Data cleanup</div>
              <div class="example-content">Lists to unique/sorted sets</div>
              <span class="badge">sort + unique</span>
            </div>

            <div class="example">
              <div class="example-title">üåê SEO</div>
              <div class="example-content">Generate clean slugs for URLs</div>
              <span class="badge">slugify</span>
            </div>

            <div class="example" id="best-practices">
              <div class="example-title">üß™ QA</div>
              <div class="example-content">
                Normalize whitespace &amp; quotes
              </div>
              <span class="badge">normalize</span>
            </div>

            <!-- Best Practices -->
            <div class="example">
              <div class="example-title">üî§ Respect proper nouns</div>
              <div class="example-content">
                Title Case shouldn‚Äôt upcase small words unless they start/end
                the title.
              </div>
            </div>

            <div class="example">
              <div class="example-title">üßπ Normalize before compare</div>
              <div class="example-content">
                Trim + collapse spaces + case-fold before deduping to avoid
                near-duplicates.
              </div>
            </div>

            <div class="example">
              <div class="example-title">üåç Unicode-safe transforms</div>
              <div class="example-content">
                Use normalization and grapheme-aware operations for emoji and
                accents.
              </div>
            </div>

            <!-- Technical -->
            <div class="example">
              <div class="example-title">üß© Technical Implementation</div>
              <div class="example-content">
                Case transforms, regex replace, Unicode handling
              </div>
            </div>
          </div>
        </div>

        <div class="info-grid" id="details">
          <!-- Basics & Features -->
          <div class="card">
            <div class="info-section">
              <h3>üìù Text Utilities Basics</h3>
              <ul>
                <li>
                  <strong>Change case:</strong> UPPER ‚Ä¢ lower ‚Ä¢ Title Case ‚Ä¢
                  Sentence case
                </li>
                <li>
                  <strong>Clean text:</strong> trim, collapse spaces, remove
                  extra blank lines
                </li>
                <li>
                  <strong>Lines:</strong> sort (A‚ÜíZ/Z‚ÜíA), unique, dedupe,
                  prefix/suffix, numbering
                </li>
                <li>
                  <strong>Counts:</strong> characters, words, lines
                  (Unicode-aware)
                </li>
                <li>
                  <strong>Transform:</strong> slugify, remove diacritics,
                  reverse text, smart quotes ‚Üê‚Üí straight
                </li>
                <li><strong>Find &amp; replace:</strong> plain or regex</li>
                <li>
                  <strong>Copy/Download:</strong> results stay local in your
                  browser
                </li>
                <li>Runs entirely in your browser ‚Äî no uploads or tracking.</li>
              </ul>
            </div>
          </div>

          <!-- Inputs -->
          <div class="card">
            <div class="info-section">
              <h3>‚å®Ô∏è Inputs</h3>
              <ul>
                <li>
                  <strong>Paste</strong> or <strong>type</strong> text (newlines
                  preserved)
                </li>
                <li>
                  <strong>Options:</strong> case mode, whitespace rules,
                  sort/unique, regex flags
                </li>
                <li>
                  <strong>Output:</strong> live preview with copy &amp; download
                </li>
              </ul>
            </div>
            <div class="info-section">
              <h3>üåê Unicode Support</h3>
              <ul>
                <li>Works with emoji and non-Latin scripts</li>
                <li>
                  Counts use Intl.Segmenter for better accuracy (when available)
                </li>
              </ul>
            </div>
            <div class="info-section">
              <h3>üìñ Common Recipes</h3>
              <ul>
                <li>
                  <strong>Blog title</strong> Title Case + keep minor words
                  lowercase (of, the, a‚Ä¶)
                </li>
                <li>
                  <strong>CSV lists:</strong> one item per line ‚Üí unique ‚Üí sort
                </li>
                <li><strong>URLs:</strong> slugify + lowercase + hyphens</li>
              </ul>
            </div>
          </div>

          <!-- Unicode -->
          <div class="card">
            <div class="info-section">
              <h3>‚öôÔ∏è How to Use</h3>
              <ol>
                <li>Paste text into the <strong>Input</strong> area.</li>
                <li>
                  Select a <strong>utility</strong> (e.g., Title Case, Slugify,
                  Sort/Unique).
                </li>
                <li>
                  Adjust <strong>options</strong> (ignore case, regex flags,
                  etc.).
                </li>
                <li>Check <strong>Output</strong> and click</li>
                <li><strong>Copy</strong> or <strong>Download</strong>.</li>
              </ol>
            </div>
          </div>
          <div class="card">
            <div class="info-section">
              <h3>üí° Tips</h3>
              <ul>
                <li>
                  Enable ‚ÄúCollapse whitespace‚Äù to normalize spaces & blank
                  lines.
                </li>
                <li>
                  Use <strong>Regex replace</strong> for patterns (e.g., \\s+ ‚Üí
                  single space).
                </li>
                <li>
                  For languages with diacritics, run
                  <strong>Remove diacritics</strong> before
                </li>
                <li><strong>Slugify</strong>.</li>
              </ul>
            </div>
          </div>
          <!-- Recipes -->
        </div>

        <section class="faq-section card" id="faq">
          <h2 class="faq-title">Frequently Asked Questions</h2>

          <div class="faq-container">
            <!-- Text Tools Specific FAQs -->
            <div class="faq-item">
              <button class="faq-question">
                Do you send my text to a server?
                <span class="faq-icon">+</span>
              </button>
              <div class="faq-answer">
                <p>
                  No. All actions (case change, space cleanup, copy, counting)
                  happen locally in your browser. Your text is not uploaded.
                </p>
              </div>
            </div>

            <div class="faq-item">
              <button class="faq-question">
                How is the word count calculated?
                <span class="faq-icon">+</span>
              </button>
              <div class="faq-answer">
                <p>
                  Words are counted by splitting on whitespace using a simple
                  regex (<code>\S+</code>). Characters include everything you
                  see, including spaces and newlines.
                </p>
              </div>
            </div>

            <div class="faq-item">
              <button class="faq-question">
                What‚Äôs the difference between ‚ÄúCollapse spaces‚Äù and ‚ÄúRemove ALL
                spaces‚Äù?
                <span class="faq-icon">+</span>
              </button>
              <div class="faq-answer">
                <p>
                  <strong>Collapse spaces</strong> replaces any run of
                  whitespace (<code>\s+</code>) with a single space and trims
                  the ends. <strong>Remove ALL spaces</strong> deletes all
                  whitespace entirely (spaces, tabs, newlines).
                </p>
              </div>
            </div>

            <div class="faq-item">
              <button class="faq-question">
                Will punctuation, emojis, or non-Latin scripts change?
                <span class="faq-icon">+</span>
              </button>
              <div class="faq-answer">
                <p>
                  No. Case conversion affects letters only. Punctuation and
                  emojis are preserved. Scripts without case (e.g., Bengali) are
                  unaffected by UPPER/lower conversion.
                </p>
              </div>
            </div>

            <div class="faq-item">
              <button class="faq-question">
                Does it work offline?
                <span class="faq-icon">+</span>
              </button>
              <div class="faq-answer">
                <p>
                  Yes. After the first load, the page continues to work offline.
                </p>
              </div>
            </div>

            <div class="faq-item">
              <button class="faq-question">
                Is there a size limit?
                <span class="faq-icon">+</span>
              </button>
              <div class="faq-answer">
                <p>
                  There is no hard limit, but very large pastes may feel slow on
                  low-memory devices. For extremely large texts, process in
                  chunks.
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- Related tools -->
        <article class="card" id="related">
          <h2>Related tools</h2>
          <p class="muted">More text &amp; encoding utilities:</p>
          <p>
            <a class="global-btn" href="/text-to-pdf/">Text ‚Üí PDF</a>
            <a class="global-btn" href="/json-formatter/">JSON Formatter</a>
            <a class="global-btn" href="/base64/">Base64 Encode/Decode</a>
            <a class="global-btn" href="/url-tools/">URL Tools</a>
          </p>
          <p class="small">
            <span lang="bn">Prefer ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ?</span> Try the
            <a
              class="text-link"
              href="/bn/text-utilities/"
              hreflang="bn"
              lang="bn"
              aria-label="‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£"
              >‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£</a
            >.
          </p>
        </article>
      </main>
      <footer>
        ¬© <span id="y"></span> utilityera ‚Ä¢
        <a class="text-link" href="/" aria-label="utilityera Home">Home</a> ‚Ä¢
        <a
          class="text-link"
          href="/bn/text-utilities/"
          hreflang="bn"
          lang="bn"
          aria-label="‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£"
          >‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</a
        >
      </footer>
      <!-- Toast -->
      <div class="toast" id="toast" role="status" aria-live="polite">
        Copied ‚úÖ
      </div>
    </div>

    <noscript>
      <div class="wrap">
        <p>Please enable JavaScript to use Text Utilities.</p>
      </div>
    </noscript>

    <script>
      // DOM Elements
      const inputText = document.getElementById("input-text");
      const outputText = document.getElementById("output-text");
      const charCount = document.getElementById("char-count");
      const wordCount = document.getElementById("word-count");
      const lineCount = document.getElementById("line-count");
      const sentenceCount = document.getElementById("sentence-count");
      const toolItems = document.querySelectorAll(".tool-item");
      const categoryItems = document.querySelectorAll(".category-item");
      const toolSections = document.querySelectorAll(".tool-section");
      const pasteBtn = document.getElementById("paste-btn");
      const clearBtn = document.getElementById("clear-btn");
      const copyBtn = document.getElementById("copy-btn");
      const downloadBtn = document.getElementById("download-btn");
      const useInputBtn = document.getElementById("use-input-btn");
      const favoriteIcon = document.getElementById("favorite-icon");
      const toast = document.getElementById("toast");
      const toastMessage = document.getElementById("toast-message");
      const findReplacePanel = document.getElementById("find-replace-panel");
      const findInput = document.getElementById("find-input");
      const replaceInput = document.getElementById("replace-input");
      const caseSensitive = document.getElementById("case-sensitive");
      const wholeWord = document.getElementById("whole-word");
      const findBtn = document.getElementById("find-btn");
      const replaceBtn = document.getElementById("replace-btn");
      const replaceAllBtn = document.getElementById("replace-all-btn");

      // Initialize with uppercase as active tool
      let activeTool = "uppercase";
      let activeCategory = "case-transform";

      // Show notification toast
      function showToast(message, isError = false) {
        toastMessage.textContent = message;
        toast.classList.toggle("error", isError);
        toast.classList.add("show");

        setTimeout(() => {
          toast.classList.remove("show");
        }, 3000);
      }

      // Update statistics
      function updateStats() {
        const text = inputText.value;

        // Character count
        charCount.textContent = text.length;

        // Word count (improved implementation)
        const words = text.trim() ? text.trim().split(/\s+/) : [];
        wordCount.textContent = words.length;

        // Line count
        const lines = text ? text.split("\n") : [];
        lineCount.textContent = lines.length;

        // Sentence count (improved implementation)
        const sentences = text.trim() ? text.split(/[.!?]+/) : [];
        sentenceCount.textContent = Math.max(0, sentences.length - 1);
      }

      // Text transformation functions
      const textTransformations = {
        // Case Transform
        uppercase: (text) => text.toUpperCase(),
        lowercase: (text) => text.toLowerCase(),
        titlecase: (text) => {
          return text
            .toLowerCase()
            .split(" ")
            .map((word) => {
              // Handle small words that should not be capitalized in title case
              const smallWords = [
                "a",
                "an",
                "and",
                "as",
                "at",
                "but",
                "by",
                "for",
                "in",
                "nor",
                "of",
                "on",
                "or",
                "so",
                "the",
                "to",
                "up",
                "yet",
              ];
              if (smallWords.includes(word)) {
                return word;
              }
              return word.charAt(0).toUpperCase() + word.slice(1);
            })
            .join(" ");
        },
        sentencecase: (text) => {
          return text
            .toLowerCase()
            .replace(
              /(^\s*|[.!?]\s+)(\w)/g,
              (match, p1, p2) => p1 + p2.toUpperCase()
            );
        },
        capitalizewords: (text) => {
          return text.replace(/\b\w/g, (char) => char.toUpperCase());
        },
        togglecase: (text) => {
          return text
            .split("")
            .map((char) => {
              return char === char.toUpperCase()
                ? char.toLowerCase()
                : char.toUpperCase();
            })
            .join("");
        },

        // Line Operations
        "remove-duplicates": (text) => {
          const lines = text.split("\n");
          const uniqueLines = [...new Set(lines)];
          return uniqueLines.join("\n");
        },
        "sort-az": (text) => {
          const lines = text.split("\n");
          return lines.sort().join("\n");
        },
        "sort-za": (text) => {
          const lines = text.split("\n");
          return lines.sort().reverse().join("\n");
        },
        "reverse-lines": (text) => {
          const lines = text.split("\n");
          return lines.reverse().join("\n");
        },
        "shuffle-lines": (text) => {
          const lines = text.split("\n");
          for (let i = lines.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [lines[i], lines[j]] = [lines[j], lines[i]];
          }
          return lines.join("\n");
        },
        "add-line-numbers": (text) => {
          const lines = text.split("\n");
          return lines.map((line, index) => `${index + 1}. ${line}`).join("\n");
        },
        "add-prefix-suffix": (text) => {
          const prefix = prompt("Enter prefix (leave empty for none):", "");
          const suffix = prompt("Enter suffix (leave empty for none):", "");
          const lines = text.split("\n");
          return lines
            .map((line) => `${prefix || ""}${line}${suffix || ""}`)
            .join("\n");
        },
        "join-lines": (text) => {
          const delimiter = prompt(
            "Enter delimiter (leave empty for space):",
            " "
          );
          const lines = text.split("\n");
          return lines.join(delimiter || " ");
        },
        "split-by-delimiter": (text) => {
          const delimiter = prompt("Enter delimiter to split by:", ",");
          return text.split(delimiter).join("\n");
        },

        // Clean & Format
        "remove-empty-lines": (text) => {
          const lines = text.split("\n");
          return lines.filter((line) => line.trim() !== "").join("\n");
        },
        "trim-whitespace": (text) => {
          const lines = text.split("\n");
          return lines.map((line) => line.trim()).join("\n");
        },
        "remove-extra-spaces": (text) => {
          return text.replace(/\s+/g, " ");
        },
        "remove-special-chars": (text) => {
          return text.replace(/[^\w\s]/g, "");
        },
        "remove-numbers": (text) => {
          return text.replace(/\d/g, "");
        },
        "remove-punctuation": (text) => {
          return text.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g, "");
        },
        "normalize-spaces": (text) => {
          return text.replace(/\s+/g, " ").trim();
        },

        // Extract & Find
        "extract-emails": (text) => {
          const emailRegex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g;
          const emails = text.match(emailRegex);
          return emails ? emails.join("\n") : "No emails found";
        },
        "extract-urls": (text) => {
          const urlRegex = /(https?:\/\/[^\s]+)/g;
          const urls = text.match(urlRegex);
          return urls ? urls.join("\n") : "No URLs found";
        },
        "extract-numbers": (text) => {
          const numberRegex = /\b\d+\b/g;
          const numbers = text.match(numberRegex);
          return numbers ? numbers.join("\n") : "No numbers found";
        },
        "extract-phones": (text) => {
          const phoneRegex =
            /(\+?\d{1,3}[-.\s]?)?\(?\d{3}\)?[-.\s]?\d{3}[-.\s]?\d{4}/g;
          const phones = text.match(phoneRegex);
          return phones ? phones.join("\n") : "No phone numbers found";
        },
        "word-frequency": (text) => {
          const words = text.toLowerCase().match(/\b\w+\b/g) || [];
          const frequency = {};

          words.forEach((word) => {
            frequency[word] = (frequency[word] || 0) + 1;
          });

          const sorted = Object.entries(frequency)
            .sort((a, b) => b[1] - a[1])
            .map(([word, count]) => `${word}: ${count}`);

          return sorted.join("\n");
        },
        "find-replace": (text) => {
          // This tool shows the find/replace panel instead of transforming text
          return text;
        },

        // Encode & Decode
        "reverse-text": (text) => {
          return text.split("").reverse().join("");
        },
        "html-encode": (text) => {
          const div = document.createElement("div");
          div.textContent = text;
          return div.innerHTML;
        },
        "html-decode": (text) => {
          const div = document.createElement("div");
          div.innerHTML = text;
          return div.textContent;
        },
        slugify: (text) => {
          return text
            .toLowerCase()
            .replace(/\s+/g, "-")
            .replace(/[^\w\-]+/g, "")
            .replace(/\-\-+/g, "-")
            .replace(/^-+/, "")
            .replace(/-+$/, "");
        },
        "to-json-array": (text) => {
          const lines = text.split("\n").filter((line) => line.trim() !== "");
          return JSON.stringify(lines, null, 2);
        },
        "to-csv": (text) => {
          const lines = text.split("\n");
          return lines
            .map((line) => `"${line.replace(/"/g, '""')}"`)
            .join(",\n");
        },
      };

      // Apply active transformation
      function applyTransformation() {
        const text = inputText.value;
        if (text.trim() === "") {
          outputText.value = "";
          return;
        }

        try {
          // Special handling for find-replace tool
          if (activeTool === "find-replace") {
            outputText.value = text;
            return;
          }

          const transformedText = textTransformations[activeTool](text);
          outputText.value = transformedText;
        } catch (error) {
          console.error("Transformation error:", error);
          showToast("Error applying transformation", true);
        }
      }

      // Set active tool
      function setActiveTool(tool) {
        activeTool = tool;

        // Update UI
        toolItems.forEach((item) => {
          if (item.dataset.tool === tool) {
            item.classList.add("active");
          } else {
            item.classList.remove("active");
          }
        });

        // Show/hide find-replace panel
        if (tool === "find-replace") {
          findReplacePanel.style.display = "block";
        } else {
          findReplacePanel.style.display = "none";
        }

        // Apply transformation
        applyTransformation();
      }

      // Set active category
      function setActiveCategory(category) {
        activeCategory = category;

        // Update UI
        categoryItems.forEach((item) => {
          if (item.dataset.category === category) {
            item.style.backgroundColor = "var(--bg-tertiary)";
          } else {
            item.style.backgroundColor = "";
          }
        });

        // Show/hide tool sections
        toolSections.forEach((section) => {
          if (section.id === `${category}-tools`) {
            section.classList.add("active");
          } else {
            section.classList.remove("active");
          }
        });

        // Set first tool in category as active
        const firstTool = document.querySelector(
          `#${category}-tools .tool-item`
        );
        if (firstTool) {
          setActiveTool(firstTool.dataset.tool);
        }
      }

      // Find and replace functionality
      function findText() {
        const text = inputText.value;
        const find = findInput.value;

        if (!find) {
          showToast("Please enter text to find", true);
          return;
        }

        let regex;
        try {
          const flags = caseSensitive.checked ? "g" : "gi";
          const pattern = wholeWord.checked ? `\\b${find}\\b` : find;
          regex = new RegExp(pattern, flags);
        } catch (e) {
          showToast("Invalid search pattern", true);
          return;
        }

        const matches = text.match(regex);
        if (matches) {
          showToast(`Found ${matches.length} matches`);

          // Highlight matches in output
          const highlighted = text.replace(regex, (match) => `[${match}]`);
          outputText.value = highlighted;
        } else {
          showToast("No matches found", true);
          outputText.value = text;
        }
      }

      function replaceText() {
        const text = inputText.value;
        const find = findInput.value;
        const replace = replaceInput.value;

        if (!find) {
          showToast("Please enter text to find", true);
          return;
        }

        let regex;
        try {
          const flags = caseSensitive.checked ? "g" : "gi";
          const pattern = wholeWord.checked ? `\\b${find}\\b` : find;
          regex = new RegExp(pattern, flags);
        } catch (e) {
          showToast("Invalid search pattern", true);
          return;
        }

        if (text.match(regex)) {
          const replaced = text.replace(regex, replace);
          outputText.value = replaced;
          showToast("Text replaced");
        } else {
          showToast("No matches found", true);
        }
      }

      function replaceAllText() {
        const text = inputText.value;
        const find = findInput.value;
        const replace = replaceInput.value;

        if (!find) {
          showToast("Please enter text to find", true);
          return;
        }

        let regex;
        try {
          const flags = caseSensitive.checked ? "g" : "gi";
          const pattern = wholeWord.checked ? `\\b${find}\\b` : find;
          regex = new RegExp(pattern, flags);
        } catch (e) {
          showToast("Invalid search pattern", true);
          return;
        }

        if (text.match(regex)) {
          const replaced = text.replace(regex, replace);
          outputText.value = replaced;
          showToast("All occurrences replaced");
        } else {
          showToast("No matches found", true);
        }
      }

      // Event Listeners
      inputText.addEventListener("input", () => {
        updateStats();
        applyTransformation();
      });

      toolItems.forEach((item) => {
        item.addEventListener("click", () => {
          setActiveTool(item.dataset.tool);
        });
      });

      categoryItems.forEach((item) => {
        item.addEventListener("click", () => {
          setActiveCategory(item.dataset.category);
        });
      });

      pasteBtn.addEventListener("click", async () => {
        try {
          const text = await navigator.clipboard.readText();
          inputText.value = text;
          updateStats();
          applyTransformation();
          showToast("Text pasted successfully");
        } catch (err) {
          console.error("Paste error:", err);
          showToast("Failed to paste from clipboard", true);
        }
      });

      clearBtn.addEventListener("click", () => {
        inputText.value = "";
        outputText.value = "";
        updateStats();
        showToast("Text cleared");
      });

      copyBtn.addEventListener("click", async () => {
        if (!outputText.value) {
          showToast("No text to copy", true);
          return;
        }

        try {
          await navigator.clipboard.writeText(outputText.value);
          showToast("Text copied to clipboard");
        } catch (err) {
          console.error("Copy error:", err);
          showToast("Failed to copy to clipboard", true);
        }
      });

      downloadBtn.addEventListener("click", () => {
        const text = outputText.value;
        if (!text) {
          showToast("No text to download", true);
          return;
        }

        try {
          const blob = new Blob([text], { type: "text/plain" });
          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = "processed-text.txt";
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
          showToast("Text downloaded successfully");
        } catch (error) {
          console.error("Download error:", error);
          showToast("Failed to download text", true);
        }
      });

      useInputBtn.addEventListener("click", () => {
        if (!outputText.value) {
          showToast("No text to use as input", true);
          return;
        }

        inputText.value = outputText.value;
        updateStats();
        applyTransformation();
        showToast("Output text used as input");
      });

      favoriteIcon.addEventListener("click", () => {
        favoriteIcon.classList.toggle("active");
        if (favoriteIcon.classList.contains("active")) {
          favoriteIcon.classList.remove("ri-star-line");
          favoriteIcon.classList.add("ri-star-fill");
          showToast("Added to favorites");
        } else {
          favoriteIcon.classList.remove("ri-star-fill");
          favoriteIcon.classList.add("ri-star-line");
          showToast("Removed from favorites");
        }
      });

      // Find/Replace event listeners
      findBtn.addEventListener("click", findText);
      replaceBtn.addEventListener("click", replaceText);
      replaceAllBtn.addEventListener("click", replaceAllText);

      // Initialize
      updateStats();
      applyTransformation();
    </script>

    <script src="/assets/script.js" defer></script>
  </body>
</html>
