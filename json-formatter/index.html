<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>JSON Formatter &amp; Validator ‚Äî Pretty Print | Tools Pack</title>
    <meta
      name="description"
      content="Format, minify, and validate JSON in your browser. Unicode-safe, fast, no tracking. Pretty print and copy instantly."
    />
    <meta name="theme-color" content="#1E1E2F" />

    <!-- Canonical -->
    <link
      rel="canonical"
      href="https://tools-pack.netlify.app/json-formatter/"
    />

    <!-- Hreflang -->
    <link
      rel="alternate"
      hreflang="en"
      href="https://tools-pack.netlify.app/json-formatter/"
    />
    <link
      rel="alternate"
      hreflang="bn"
      href="https://tools-pack.netlify.app/bn/json-formatter/"
    />
    <link
      rel="alternate"
      hreflang="x-default"
      href="https://tools-pack.netlify.app/json-formatter/"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="/assets/style.css" />

    <!-- Open Graph / Twitter -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Tools Pack" />
    <meta property="og:title" content="JSON Formatter ‚Äî Tools Pack" />
    <meta
      property="og:description"
      content="Format &amp; validate JSON instantly. Pretty print, minify, and copy output ‚Äî private and fast."
    />
    <meta
      property="og:url"
      content="https://tools-pack.netlify.app/json-formatter/"
    />
    <meta property="og:locale" content="en_US" />
    <meta property="og:locale:alternate" content="bn_BD" />

    <!-- Prefer webp for OG (1200√ó630) -->
    <meta
      property="og:image"
      content="https://tools-pack.netlify.app/assets/og/json-formatter-en.webp"
    />
    <meta
      property="og:image:secure_url"
      content="https://tools-pack.netlify.app/assets/og/json-formatter-en.webp"
    />
    <meta property="og:image:type" content="image/webp" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta
      property="og:image:alt"
      content="JSON Formatter ‚Äî Pretty print &amp; validate JSON"
    />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="JSON Formatter ‚Äî Tools Pack" />
    <meta
      name="twitter:description"
      content="Pretty print, minify, and validate JSON in your browser ‚Äî no data leaves your device."
    />
    <meta
      name="twitter:image"
      content="https://tools-pack.netlify.app/assets/og/json-formatter-en.webp"
    />

    <!-- Performance + AdSense preconnect (optional) -->
    <link
      rel="preconnect"
      href="https://pagead2.googlesyndication.com"
      crossorigin
    />
    <link rel="dns-prefetch" href="//pagead2.googlesyndication.com" />

    <!-- JSON-LD: WebApplication (upgraded) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "@id": "https://tools-pack.netlify.app/json-formatter/",
        "name": "JSON Formatter & Validator",
        "url": "https://tools-pack.netlify.app/json-formatter/",
        "image": "https://tools-pack.netlify.app/assets/og/json-formatter-en.webp",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "All",
        "inLanguage": "en",
        "isAccessibleForFree": true,
        "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
        "description": "Format, minify, and validate JSON locally in your browser. Unicode-safe, fast, no tracking."
      }
    </script>

    <!-- JSON-LD: BreadcrumbList -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://tools-pack.netlify.app/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Developer Tools",
            "item": "https://tools-pack.netlify.app/text-utilities/"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "JSON Formatter",
            "item": "https://tools-pack.netlify.app/json-formatter/"
          }
        ]
      }
    </script>

    <!-- JSON-LD: FAQPage (answers plain text; links only in visible FAQ) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "Is my JSON uploaded to a server?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "No. All processing happens locally in your browser."
            }
          },
          {
            "@type": "Question",
            "name": "Does it support Unicode/Bangla?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes. It is Unicode-safe."
            }
          },
          {
            "@type": "Question",
            "name": "How do I pretty print and validate?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Paste JSON, click Format to pretty print with 2-space indentation. Click Validate to only check correctness without output."
            }
          },
          {
            "@type": "Question",
            "name": "Where can I minify or use related tools?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Use the Minify button for compact JSON. For URL encoding/decoding and Base64, use the related tools section on the page."
            }
          }
        ]
      }
    </script>

    <!-- Page styles (yours) -->
    <style>
      :root {
        --primary: #3b82f6;
        --primary-hover: #2563eb;
        --secondary: #64748b;
        --success: #10b981;
        --danger: #ef4444;
        --warning: #f59e0b;
        --background: #0f172a;
        --surface: #1e293b;
        --surface-light: #334155;
        --text: #f1f5f9;
        --text-muted: #c4cdd6;
        --border: #475569;
        --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background-color: var(--background);
        color: var(--text);
        line-height: 1.6;
        padding: 20px;
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .subtitle {
        color: var(--text-muted);
        font-size: 1.1rem;
      }

      .card {
        background-color: var(--surface);
        border-radius: 12px;
        padding: 25px;
        margin-bottom: 25px;
        box-shadow: var(--shadow);
        border: 1px solid var(--border);
      }

      h2 {
        color: var(--primary);
        margin-bottom: 20px;
        font-size: 1.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .badge {
        background-color: var(--badge);
        color: white;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 0.8rem;
        font-weight: 600;
      }

      .editor-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 20px;
      }

      .editor-panel {
        display: flex;
        flex-direction: column;
        height: 400px;
      }

      .panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }

      .panel-title {
        font-weight: 600;
        color: var(--text-muted);
      }

      .panel-actions {
        display: flex;
        gap: 8px;
      }

      .textarea {
        width: 100%;
        flex: 1;
        padding: 15px;
        background-color: var(--surface-light);
        border: 1px solid var(--border);
        border-radius: 8px;
        color: var(--text);
        font-size: 14px;
        font-family: "Courier New", monospace;
        resize: none;
        transition: border-color 0.3s;
      }

      .textarea:focus {
        outline: none;
        border-color: var(--primary);
      }

      .textarea::placeholder {
        color: var(--text-muted);
      }

      .btn {
        padding: 8px 16px;
        border: none;
        border-radius: 6px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .btn-primary {
        background-color: var(--primary);
        color: white;
      }

      .btn-primary:hover {
        background-color: var(--primary-hover);
        transform: translateY(-2px);
      }

      .btn-secondary {
        background-color: var(--secondary);
        color: white;
      }

      .btn-secondary:hover {
        background-color: #475569;
      }

      .btn-success {
        background-color: var(--success);
        color: #0c0c0c;
      }

      .btn-success:hover {
        background-color: #0da271;
      }

      .btn-danger {
        background-color: var(--danger);
        color: #000000;
      }

      .btn-danger:hover {
        background-color: #dc2626;
      }

      .controls {
        display: flex;
        gap: 15px;
        margin-bottom: 20px;
      }

      .controls .btn {
        padding: 12px 24px;
        font-size: 16px;
      }

      .status {
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 20px;
        font-weight: 600;
      }

      .status-info {
        background-color: var(--surface-light);
        color: var(--text-muted);
      }

      .status-valid {
        background-color: rgba(16, 185, 129, 0.2);
        color: var(--success);
        border: 1px solid var(--success);
      }

      .status-invalid {
        background-color: rgba(239, 68, 68, 0.2);
        color: var(--danger);
        border: 1px solid var(--danger);
      }

      .error-details {
        padding: 15px;
        background-color: rgba(239, 68, 68, 0.1);
        border: 1px solid var(--danger);
        border-radius: 8px;
        margin-bottom: 20px;
        color: var(--danger);
        font-family: "Courier New", monospace;
        font-size: 14px;
        display: none;
      }

      .error-details.show {
        display: block;
      }

      .stats {
        display: flex;
        justify-content: space-around;
        margin-bottom: 20px;
        padding: 15px;
        background-color: var(--surface-light);
        border-radius: 8px;
      }

      .stat {
        text-align: center;
      }

      .stat-value {
        display: block;
        font-size: 1.5rem;
        font-weight: bold;
        color: #fff;
      }

      .stat-label {
        font-size: 0.9rem;
        color: var(--text-muted);
      }

      .ad-wrap {
        margin: 20px 0;
        padding: 15px;
        background-color: var(--surface-light);
        border-radius: 8px;
        border: 1px dashed var(--border);
        text-align: center;
      }

      .ad-label {
        display: inline-block;
        padding: 2px 8px;
        background-color: var(--secondary);
        color: white;
        border-radius: 4px;
        font-size: 12px;
        margin-bottom: 10px;
      }

      .ad-content {
        color: var(--text-muted);
        font-style: italic;
      }

      .loading {
        width: 16px;
        height: 16px;
        border: 2px solid transparent;
        border-top: 2px solid white;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      footer {
        text-align: center;
        margin-top: 40px;
        padding-top: 20px;
        border-top: 1px solid var(--border);
        color: var(--text-muted);
        font-size: 0.9rem;
      }

      @media (max-width: 768px) {
        .editor-container {
          grid-template-columns: 1fr;
        }

        .controls {
          flex-direction: column;
        }

        .stats {
          flex-wrap: wrap;
          gap: 15px;
        }

        .stat {
          flex: 1 0 40%;
        }
      }
    </style>
  </head>
  <body>
    <header class="sticky">
      <div class="wrap brand">
        <a href="/" class="logo" aria-label="Tools Pack Home">
          <img src="/assets/logo.png" alt="Tools Pack" width="80" height="60" />
        </a>
        <div>
          <h1 style="margin: 0">JSON Formatter / Validator</h1>
          <div class="sub">Pretty ‚Ä¢ Minify ‚Ä¢ Validate</div>
        </div>
        <div style="margin-left: auto">
          <a class="muted" href="/bn/json-formatter/" hreflang="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</a>
        </div>
      </div>
    </header>

    <div class="container">
      <div class="ad-wrap ad-article" aria-label="Advertisement">
        <span class="ad-label">Ad</span>
        <div class="ad-content">
          Upgrade to Base64 Pro for unlimited conversions and advanced features!
        </div>
      </div>
      <!-- Breadcrumbs -->
      <nav class="breadcrumb" aria-label="Breadcrumb">
        <a href="/">Home</a> ‚Ä∫ <a href="/text-utilities/">Developer Tools</a> ‚Ä∫
        <span aria-current="page">JSON Formatter</span>
      </nav>
      <header class="header">
        <h2 class="">JSON Formatter & Validator ‚Äî Clean & Reliable</h2>
        <p class="subtitle">
          Paste or write raw <strong>JSON data</strong> and instantly get a
          <em>pretty-printed, indented, and validated</em> version. Errors are
          highlighted for easy debugging. Works entirely in your browser ‚Äî
          <em>no server, no uploads</em>.
        </p>
        <span class="badge">syntax check</span>
        <span class="badge">pretty-print</span>
        <span class="badge">offline</span>
      </header>

      <!-- TOC -->
      <p class="toc" aria-label="Table of Contents">
        <a href="#json-tool">Format</a> ¬∑ <a href="#where">Where to use </a> ¬∑
        <a href="#best-practices">Best Practices</a> ¬∑
        <a href="#details">Details</a> ¬∑ <a href="#faq">FAQ</a> ¬∑
        <a href="#related">Related tools</a>
      </p>
      <main class="wrap">
        <!-- Breadcrumbs (page-level, consistent with header) -->
        <div class="container">
          <article class="card" id="json-tool">
            <h2>
              <span>JSON Formatter / Validator</span>
              <span class="badge">Developer Tool</span>
            </h2>

            <div class="editor-container">
              <!-- Input Panel -->
              <div class="editor-panel">
                <div class="panel-header">
                  <div class="panel-title">Input JSON</div>
                  <div class="panel-actions">
                    <button class="btn btn-secondary" id="clear-input">
                      üóë Clear
                    </button>
                    <button class="btn btn-secondary" id="load-sample">
                      üìù Sample
                    </button>
                  </div>
                </div>
                <textarea
                  id="json-input"
                  class="textarea form-textarea"
                  placeholder='Enter or paste your JSON data here...&#10;Example: {"name": "John", "age": 30, "city": "New York"}'
                ></textarea>
              </div>

              <!-- Output Panel -->
              <div class="editor-panel">
                <div class="panel-header">
                  <div class="panel-title">Formatted JSON</div>
                  <div class="panel-actions">
                    <button class="btn btn-secondary" id="copy-output">
                      üìã Copy
                    </button>
                    <button class="btn btn-secondary" id="minify-json">
                      üìè Minify
                    </button>
                  </div>
                </div>
                <textarea
                  id="json-output"
                  class="textarea form-textarea"
                  readonly
                  placeholder="Formatted JSON will appear here..."
                ></textarea>
              </div>
            </div>

            <div class="controls">
              <button class="btn btn-primary" id="format-json">
                <span id="format-text">Format JSON</span>
                <span
                  id="format-loading"
                  class="loading"
                  style="display: none"
                ></span>
              </button>
              <button class="btn btn-success" id="validate-json">
                <span id="validate-text">Validate JSON</span>
                <span
                  id="validate-loading"
                  class="loading"
                  style="display: none"
                ></span>
              </button>
              <button class="btn btn-danger" id="clear-all">üóë Clear All</button>
            </div>

            <div id="validation-status" class="status status-info">
              Enter JSON data and click Format/Validate buttons
            </div>

            <div id="error-details" class="error-details">
              <!-- Error details will be shown here -->
            </div>

            <div class="stats">
              <div class="stat">
                <span class="stat-value" id="char-count">0</span>
                <span class="stat-label">Characters</span>
              </div>
              <div class="stat">
                <span class="stat-value" id="line-count">0</span>
                <span class="stat-label">Lines</span>
              </div>
              <div class="stat">
                <span class="stat-value" id="size-kb">0</span>
                <span class="stat-label">Kilobytes</span>
              </div>
              <div class="stat">
                <span class="stat-value" id="depth-level">0</span>
                <span class="stat-label">Depth Level</span>
              </div>
            </div>

            <div class="ad-wrap ad-article" aria-label="Advertisement">
              <span class="ad-label">Ad</span>
              <div class="ad-content">
                Upgrade to JSON Pro for unlimited conversions and advanced
                features!
              </div>
            </div>
          </article>

          <footer>
            <p>¬© 2023 JSON Formatter / Validator | All rights reserved</p>
          </footer>
        </div>
        <!-- Best Practices -->
        <div class="card" id="best-practices">
          <h2>JSON Best Practices</h2>
          <div class="examples">
            <div class="example">
              <div class="example-title">üîê Always UTF-8</div>
              <div class="example-content">
                Make sure your files are UTF-8 encoded to avoid stray byte
                issues.
              </div>
            </div>

            <div class="example">
              <div class="example-title">üóù Deterministic keys</div>
              <div class="example-content">
                Sorting keys stabilizes diffs and cache keys in build pipelines.
              </div>
            </div>

            <div class="example">
              <div class="example-title">üí¨ No comments in JSON</div>
              <div class="example-content">
                Standard JSON has no comments. Use JSONC/JSON5 in editors, then
                strip to JSON for runtime.
              </div>
            </div>

            <div class="example">
              <div class="example-title">üßπ Normalize before parsing</div>
              <div class="example-content">
                Remove trailing commas and comments if you imported JSON5/JSONC.
              </div>
            </div>
          </div>
        </div>

        <div class="card" id="where">
          <h2>Where to Use the JSON Formatter</h2>
          <div class="examples">
            <div class="example">
              <div class="example-title">üß© APIs</div>
              <div class="example-content">
                nspect/beautify responses &amp; requests
              </div>
              <div class="example-content">
                <span class="badge">pretty-print</span>
              </div>
            </div>

            <div class="example">
              <div class="example-title">‚öôÔ∏è Config</div>
              <div class="example-content">
                Normalize config files (package.json, tsconfig.json)
              </div>
              <div class="example-content">sort keys</div>
            </div>

            <div class="example">
              <div class="example-title">üí¨ No comments in JSON</div>
              <div class="example-content">Shrink payloads for transport</div>
              <div class="example-content">minify</div>
            </div>

            <div class="example">
              <div class="example-title">üß™ Debugging</div>
              <div class="example-content">Pinpoint syntax errors quickly</div>
              <div class="example-content">validate</div>
            </div>
          </div>
        </div>
        <!-- Information Grid (JSON Formatter) -->
        <div class="info-grid" id="details">
          <!-- Basics -->
          <div class="card">
            <div class="info-section">
              <h3>üõ†Ô∏è What this tool can do</h3>
              <ul>
                <li>
                  <strong>Pretty-print</strong> JSON with custom indentation (2
                  / 4 spaces, tabs)
                </li>
                <li>
                  <strong>Minify</strong> JSON by removing whitespace and
                  newlines
                </li>
                <li>
                  <strong>Validate</strong> and highlight syntax errors with
                  line/column
                </li>
                <li>
                  <strong>Sort keys</strong> (stable, optionally recursive)
                </li>
                <li>
                  <strong>Escape/Unescape</strong> special characters (e.g.,
                  turn text into a JSON string)
                </li>
                <li>
                  <strong>Copy/Download</strong> the result locally (no uploads)
                </li>
              </ul>
              <p class="small muted">
                Runs entirely in your browser. Large payloads are limited by
                available memory.
              </p>
            </div>

            <div class="info-section">
              <h3>üìã Inputs</h3>
              <ul>
                <li>
                  <strong>Paste JSON</strong> text or
                  <strong>drop a .json file</strong>
                </li>
                <li><strong>Indentation:</strong> 2, 4, or tab</li>
                <li>
                  <strong>Options:</strong> sort keys, minify, trailing newline
                </li>
              </ul>
            </div>
          </div>

          <!-- Valid JSON & Scope -->
          <div class="card">
            <div class="info-section">
              <h3>‚úÖ Valid JSON expectations</h3>
              <ul>
                <li>UTF-8 text, <code>{}</code> or <code>[]</code> root</li>
                <li>Double-quoted strings (<code>"key"</code>)</li>
                <li>
                  No comments (<code>//</code>, <code>/* */</code>) and no
                  trailing commas
                </li>
              </ul>
              <p class="small muted">
                JSON5/‚ÄúJSON with comments‚Äù is not standard; see tips for
                workarounds.
              </p>
            </div>
          </div>

          <!-- Pretty vs Minified -->
          <div class="card">
            <div class="info-section">
              <h3>üéØ Pretty vs. Minified</h3>
              <ul>
                <li>
                  <strong>Pretty:</strong> human-readable (indent, newlines)
                </li>
                <li>
                  <strong>Minified:</strong> compact (smaller payloads for
                  network/storage)
                </li>
              </ul>
            </div>
          </div>

          <!-- How to Use -->
          <div class="card">
            <div class="info-section">
              <h3>üß© How to use</h3>
              <ul>
                <li>
                  Paste JSON or drop a file in the <strong>Input</strong> area.
                </li>
                <li>
                  Choose <strong>Pretty</strong> (2/4/tab) or
                  <strong>Minify</strong>.
                </li>
                <li>
                  (Optional) Enable <strong>Sort keys</strong> for deterministic
                  order.
                </li>
                <li>
                  Click <strong>Format</strong>. Errors (if any) show
                  line/column with a message.
                </li>
                <li>
                  Use <strong>Copy</strong> or <strong>Download</strong> to save
                  the result.
                </li>
              </ul>
            </div>
          </div>

          <!-- Tips -->
          <div class="card">
            <div class="info-section">
              <h3>üí° Tips</h3>
              <ul>
                <li>
                  To fix ‚ÄúUnexpected token‚Äù errors, look for
                  <em>missing quotes</em>, <em>trailing commas</em>, or
                  <em>unescaped</em> characters.
                </li>
                <li>
                  For JSON with comments/trailing commas, first convert to valid
                  JSON (JSONC/JSON5 ‚Üí plain JSON).
                </li>
                <li>
                  For very large JSON, toggle <em>minified</em> output to reduce
                  render time in the editor.
                </li>
              </ul>
            </div>
          </div>
        </div>

        <section class="faq-section card" id="faq">
          <h2 class="faq-title">JSON Formatter ‚Äì Frequently Asked Questions</h2>

          <div class="faq-container">
            <!-- JSON Formatter FAQs -->
            <div class="faq-item">
              <button class="faq-question">
                Is my JSON uploaded to a server?
                <span class="faq-icon">+</span>
              </button>
              <div class="faq-answer">
                <p>No. All processing happens locally in your browser.</p>
              </div>
            </div>

            <div class="faq-item">
              <button class="faq-question">
                Does it support Unicode/Bangla?
                <span class="faq-icon">+</span>
              </button>
              <div class="faq-answer">
                <p>Yes. It is Unicode-safe.</p>
              </div>
            </div>

            <div class="faq-item">
              <button class="faq-question">
                How do I pretty print and validate?
                <span class="faq-icon">+</span>
              </button>
              <div class="faq-answer">
                <p>
                  Paste JSON, click <em>Format</em> to pretty print; click
                  <em>Validate</em> to only check correctness.
                </p>
              </div>
            </div>

            <div class="faq-item">
              <button class="faq-question">
                How do I minify or find related tools?
                <span class="faq-icon">+</span>
              </button>
              <div class="faq-answer">
                <p>
                  Use the <em>Minify</em> button here. See
                  <a href="#related">Related tools</a> below for URL/Base64
                  utilities.
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- Related tools -->
        <article class="card" id="related">
          <h2>Related tools</h2>
          <p class="muted">More developer &amp; encoding utilities:</p>
          <p>
            <a class="btn" href="/url-tools/">URL Tools</a>
            <a class="btn" href="/base64/">Base64 Encode/Decode</a>
            <a class="btn" href="/text-utilities/">Text Utilities</a>
            <a class="btn" href="/sha256/">SHA-256 Hash</a>
          </p>
          <p class="small">
            <span lang="bn">Prefer ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ?</span> Try the
            <a
              class="text-link"
              href="/bn/json-formatter/"
              hreflang="bn"
              lang="bn"
              aria-label="‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£"
              >‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£</a
            >.
          </p>
        </article>
      </main>

      <footer>
        ¬© <span id="y"></span> Tools Pack ‚Ä¢
        <a class="text-link" href="/" aria-label="Tools Pack Home">Home</a> ‚Ä¢
        <a
          class="text-link"
          href="/bn/json-formatter/"
          hreflang="bn"
          lang="bn"
          aria-label="‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£"
          >‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</a
        >
      </footer>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Elements
        const jsonInput = document.getElementById("json-input");
        const jsonOutput = document.getElementById("json-output");
        const formatBtn = document.getElementById("format-json");
        const validateBtn = document.getElementById("validate-json");
        const clearAllBtn = document.getElementById("clear-all");
        const clearInputBtn = document.getElementById("clear-input");
        const loadSampleBtn = document.getElementById("load-sample");
        const copyOutputBtn = document.getElementById("copy-output");
        const minifyBtn = document.getElementById("minify-json");
        const validationStatus = document.getElementById("validation-status");
        const errorDetails = document.getElementById("error-details");
        const formatText = document.getElementById("format-text");
        const formatLoading = document.getElementById("format-loading");
        const validateText = document.getElementById("validate-text");
        const validateLoading = document.getElementById("validate-loading");

        // Stats elements
        const charCount = document.getElementById("char-count");
        const lineCount = document.getElementById("line-count");
        const sizeKb = document.getElementById("size-kb");
        const depthLevel = document.getElementById("depth-level");

        // Sample JSON data
        const sampleJson = {
          users: [
            {
              id: 1,
              name: "John Doe",
              email: "john@example.com",
              active: true,
              preferences: {
                theme: "dark",
                notifications: true,
              },
              tags: ["developer", "javascript"],
            },
            {
              id: 2,
              name: "Jane Smith",
              email: "jane@example.com",
              active: false,
              preferences: {
                theme: "light",
                notifications: false,
              },
              tags: ["designer", "ui/ux"],
            },
          ],
          total: 2,
          success: true,
        };

        // Load sample JSON
        loadSampleBtn.addEventListener("click", function () {
          jsonInput.value = JSON.stringify(sampleJson, null, 2);
          updateStats();
          validateJson();
        });

        // Clear input
        clearInputBtn.addEventListener("click", function () {
          jsonInput.value = "";
          updateStats();
          clearValidationStatus();
        });

        // Clear all
        clearAllBtn.addEventListener("click", function () {
          jsonInput.value = "";
          jsonOutput.value = "";
          updateStats();
          clearValidationStatus();
        });

        // Copy output
        copyOutputBtn.addEventListener("click", function () {
          if (!jsonOutput.value.trim()) {
            showValidationStatus("No output to copy", "invalid");
            return;
          }

          navigator.clipboard
            .writeText(jsonOutput.value)
            .then(() => {
              const originalText = copyOutputBtn.textContent;
              copyOutputBtn.textContent = "Copied!";
              copyOutputBtn.style.background = "var(--success)";

              setTimeout(() => {
                copyOutputBtn.textContent = originalText;
                copyOutputBtn.style.background = "";
              }, 2000);
            })
            .catch((err) => {
              console.error("Copy failed:", err);
              showValidationStatus("Failed to copy", "invalid");
            });
        });

        // Format JSON
        formatBtn.addEventListener("click", formatJson);

        // Validate JSON
        validateBtn.addEventListener("click", validateJson);

        // Minify JSON
        minifyBtn.addEventListener("click", function () {
          const inputText = jsonInput.value.trim();

          if (!inputText) {
            showValidationStatus("Please enter JSON to minify", "invalid");
            return;
          }

          try {
            const parsedJson = JSON.parse(inputText);
            const minifiedJson = JSON.stringify(parsedJson);
            jsonOutput.value = minifiedJson;
            showValidationStatus("JSON successfully minified", "valid");
            updateStats();
          } catch (error) {
            showValidationStatus("Invalid JSON", "invalid");
            showErrorDetails(error.message);
          }
        });

        // Auto-validate on input (with debounce)
        let validateTimeout;
        jsonInput.addEventListener("input", function () {
          clearTimeout(validateTimeout);
          updateStats();

          validateTimeout = setTimeout(() => {
            if (jsonInput.value.trim()) {
              validateJson();
            } else {
              clearValidationStatus();
            }
          }, 500);
        });

        // Format JSON function
        function formatJson() {
          const inputText = jsonInput.value.trim();

          if (!inputText) {
            showValidationStatus("Please enter JSON to format", "invalid");
            return;
          }

          setLoadingState(formatText, formatLoading, true);

          try {
            const parsedJson = JSON.parse(inputText);
            const formattedJson = JSON.stringify(parsedJson, null, 2);
            jsonOutput.value = formattedJson;
            showValidationStatus("JSON successfully formatted", "valid");
            hideErrorDetails();
            updateStats();
          } catch (error) {
            showValidationStatus("Invalid JSON", "invalid");
            showErrorDetails(error.message);
            jsonOutput.value = "";
          } finally {
            setLoadingState(formatText, formatLoading, false);
          }
        }

        // Validate JSON function
        function validateJson() {
          const inputText = jsonInput.value.trim();

          if (!inputText) {
            showValidationStatus("Please enter JSON to validate", "info");
            return;
          }

          setLoadingState(validateText, validateLoading, true);

          try {
            JSON.parse(inputText);
            showValidationStatus("Valid JSON", "valid");
            hideErrorDetails();

            // Auto-format if valid
            if (!jsonOutput.value.trim()) {
              formatJson();
            }
          } catch (error) {
            showValidationStatus("Invalid JSON", "invalid");
            showErrorDetails(error.message);
          } finally {
            setLoadingState(validateText, validateLoading, false);
          }
        }

        // Show validation status
        function showValidationStatus(message, type) {
          validationStatus.textContent = message;
          validationStatus.className = "status";

          if (type === "valid") {
            validationStatus.classList.add("status-valid");
          } else if (type === "invalid") {
            validationStatus.classList.add("status-invalid");
          } else {
            validationStatus.classList.add("status-info");
          }
        }

        // Clear validation status
        function clearValidationStatus() {
          validationStatus.textContent =
            "Enter JSON data and click Format/Validate buttons";
          validationStatus.className = "status status-info";
          hideErrorDetails();
        }

        // Show error details
        function showErrorDetails(errorMessage) {
          errorDetails.textContent = errorMessage;
          errorDetails.classList.add("show");
        }

        // Hide error details
        function hideErrorDetails() {
          errorDetails.classList.remove("show");
        }

        // Set loading state
        function setLoadingState(textElement, loadingElement, loading) {
          if (loading) {
            textElement.style.display = "none";
            loadingElement.style.display = "inline-block";
          } else {
            textElement.style.display = "inline";
            loadingElement.style.display = "none";
          }
        }

        // Update statistics
        function updateStats() {
          const inputText = jsonInput.value;
          const outputText = jsonOutput.value;
          const textToCount = inputText || outputText;

          // Character count
          charCount.textContent = textToCount.length;

          // Line count
          const lines = textToCount ? textToCount.split("\n").length : 0;
          lineCount.textContent = lines;

          // Size in KB
          const size = new Blob([textToCount]).size / 1024;
          sizeKb.textContent = size.toFixed(2);

          // Depth level (simplified)
          try {
            const parsed = JSON.parse(textToCount);
            const depth = calculateDepth(parsed);
            depthLevel.textContent = depth;
          } catch (e) {
            depthLevel.textContent = "0";
          }
        }

        // Calculate JSON depth
        function calculateDepth(obj) {
          let depth = 0;

          if (typeof obj === "object" && obj !== null) {
            for (let key in obj) {
              if (obj.hasOwnProperty(key)) {
                const currentDepth = calculateDepth(obj[key]) + 1;
                depth = Math.max(depth, currentDepth);
              }
            }
          }

          return depth;
        }

        // Initialize
        updateStats();
      });
    </script>
    <script src="/assets/tracker.js" defer data-trk-site="tools-pack"></script>
    <script src="/assets/related-more.js" defer></script>
    <script src="/assets/script.js" defer></script>
  </body>
</html>
