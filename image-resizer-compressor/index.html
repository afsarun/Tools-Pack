<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>Image Resizer &amp; Compressor — JPG/webp/WebP | Tools Pack</title>
    <meta
      name="description"
      content="Resize and compress images in your browser; export as JPEG, webp, or WebP. Keep aspect ratio, choose quality, and download instantly."
    />

    <!-- Canonical -->
    <link
      rel="canonical"
      href="https://tools-pack.netlify.app/image-resizer-compressor/"
    />

    <!-- Styles + Theme -->
    <link rel="stylesheet" href="/assets/style.css" />
    <meta name="theme-color" content="#1E1E2F" />

    <!-- Hreflang alternates -->
    <link
      rel="alternate"
      hreflang="en"
      href="https://tools-pack.netlify.app/image-resizer-compressor/"
    />
    <link
      rel="alternate"
      hreflang="bn"
      href="https://tools-pack.netlify.app/bn/image-resizer-compressor/"
    />
    <link
      rel="alternate"
      hreflang="x-default"
      href="https://tools-pack.netlify.app/image-resizer-compressor/"
    />

    <!-- Open Graph / Twitter -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Tools Pack" />
    <meta property="og:title" content="Image Resizer — Tools Pack" />
    <meta
      property="og:description"
      content="Resize/compress images and download as JPG, webp or WebP — fast and private."
    />
    <meta
      property="og:url"
      content="https://tools-pack.netlify.app/image-resizer-compressor/"
    />
    <meta property="og:locale" content="en_US" />
    <meta property="og:locale:alternate" content="bn_BD" />

    <!-- ✅ Prefer webp for OG (1200×630) -->
    <meta
      property="og:image"
      content="https://tools-pack.netlify.app/assets/og/image-resizer-compressor-en.webp"
    />
    <meta
      property="og:image:secure_url"
      content="https://tools-pack.netlify.app/assets/og/image-resizer-compressor-en.webp"
    />
    <meta property="og:image:type" content="image/webp" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta
      property="og:image:alt"
      content="Image Resizer &amp; Compressor — Tools Pack"
    />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Image Resizer — Tools Pack" />
    <meta
      name="twitter:description"
      content="Resize/compress images and export as JPG, webp or WebP — all in your browser."
    />
    <meta
      name="twitter:image"
      content="https://tools-pack.netlify.app/assets/og/image-resizer-compressor-en.webp"
    />

    <!-- JSON-LD: WebApplication (upgraded) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "@id": "https://tools-pack.netlify.app/image-resizer-compressor/#app",
        "name": "Image Resizer & Compressor",
        "url": "https://tools-pack.netlify.app/image-resizer-compressor/",
        "image": "https://tools-pack.netlify.app/assets/og/image-resizer-compressor-en.webp",
        "applicationCategory": "Utility",
        "operatingSystem": "All",
        "inLanguage": "en",
        "isAccessibleForFree": true,
        "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
        "description": "Resize and compress images in the browser; export as JPEG, webp, or WebP.",
        "featureList": [
          "Resize by width/height with aspect-ratio lock",
          "Quality slider + preview",
          "Export formats: JPG, webp, WebP",
          "Batch: single or multiple images",
          "Local processing — nothing leaves your device"
        ],
        "publisher": {
          "@type": "Organization",
          "name": "Tools Pack",
          "url": "https://tools-pack.netlify.app/"
        }
      }
    </script>

    <!-- JSON-LD: Breadcrumbs -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Tools Pack",
            "item": "https://tools-pack.netlify.app/"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Image Tools",
            "item": "https://tools-pack.netlify.app/#image"
          },
          {
            "@type": "ListItem",
            "position": 3,
            "name": "Image Resizer & Compressor",
            "item": "https://tools-pack.netlify.app/image-resizer-compressor/"
          }
        ]
      }
    </script>

    <!-- JSON-LD: FAQ rich results -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "How do I reduce image file size?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Upload an image, set a smaller width/height, pick JPEG or WebP, lower the Quality slider, then click Resize & Download."
            }
          },
          {
            "@type": "Question",
            "name": "What formats are supported?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "You can export JPEG, webp, or WebP. JPEG/WebP allow a Quality slider; webp is lossless and ignores quality."
            }
          },
          {
            "@type": "Question",
            "name": "Does this remove EXIF/metadata?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes. Canvas export typically strips EXIF/metadata, which also helps reduce size."
            }
          },
          {
            "@type": "Question",
            "name": "Is my image uploaded anywhere?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "No. Everything runs locally in your browser; nothing is sent to a server."
            }
          },
          {
            "@type": "Question",
            "name": "Why is the Quality slider disabled for webp?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "webp is lossless. Quality applies only to JPEG/WebP. Choose JPEG/WebP when you want smaller files."
            }
          }
        ]
      }
    </script>

    <style>
      /* Design tokens */
      :root {
        --primary: #3b82f6;
        --primary-hover: #2563eb;
        --secondary: #64748b;
        --success: #10b981;
        --danger: #ef4444;
        --warning: #f59e0b;

        --background: #0f172a; /* page bg (slate-900) */
        --surface: #1e293b; /* card bg (slate-800) */
        --surface-light: #334155; /* lighter surface */
        --text: #f1f5f9; /* slate-100 */
        --text-muted: #94a3b8; /* slate-400 */
        --border: #475569; /* slate-600 */

        --gradient: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);

        --shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1),
          0 10px 10px -5px rgb(0 0 0 / 0.04);
        --shadow-lg: 0 25px 50px -12px rgb(0 0 0 / 0.25);
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: var(--text);
        background: var(--background);

        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .card {
        background-color: var(--surface);
        border-radius: 12px;
        box-shadow: var(--shadow-lg);
        padding: 25px;
        border: 1px solid var(--border);
        margin-bottom: 20px;
      }

      h2 {
        background: var(--gradient);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        margin-bottom: 20px;
        text-align: center;
        font-weight: 700;
        font-size: 1.8rem;
      }

      .upload-area {
        border: 2px dashed var(--border);
        border-radius: 8px;
        padding: 40px 20px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
        margin-bottom: 20px;
      }

      .upload-area:hover {
        border-color: var(--primary);
        background-color: rgba(59, 130, 246, 0.05);
      }

      .upload-area.dragover {
        border-color: var(--primary);
        background-color: rgba(59, 130, 246, 0.1);
      }

      .upload-icon {
        font-size: 3rem;
        color: var(--text-muted);
        margin-bottom: 15px;
      }

      .upload-text {
        color: var(--text-muted);
        margin-bottom: 15px;
      }

      .btn {
        padding: 12px 20px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        font-weight: 600;
        transition: all 0.3s ease;
        background-color: var(--surface-light);
        color: var(--text);
      }

      .btn-primary {
        background: var(--gradient);
        color: white;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      }

      .btn:hover:not(.btn-primary) {
        background-color: var(--border);
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      }

      .btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .settings-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
      }

      .form-group {
        margin-bottom: 15px;
      }

      .form-label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: var(--text);
      }

      .form-input {
        width: 100%;
        padding: 10px 12px;
        background-color: var(--surface-light);
        border: 1px solid var(--border);
        border-radius: 8px;
        font-size: 16px;
        transition: all 0.3s;
        color: var(--text);
      }

      .form-input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
      }

      .form-select {
        width: 100%;
        padding: 10px 12px;
        background-color: var(--surface-light);
        border: 1px solid var(--border);
        border-radius: 8px;
        font-size: 16px;
        color: var(--text);
        cursor: pointer;
      }

      .form-select:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
      }

      .range-container {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .range-value {
        min-width: 40px;
        text-align: center;
        font-weight: 600;
      }

      .dimension-controls {
        display: flex;
        gap: 10px;
        align-items: center;
      }

      .dimension-input {
        flex: 1;
      }

      .aspect-ratio-btn {
        padding: 8px 12px;
        background: var(--surface-light);
        border: 1px solid var(--border);
        border-radius: 6px;
        cursor: pointer;
        color: var(--text);
        font-size: 14px;
      }

      .aspect-ratio-btn.active {
        background: var(--primary);
        color: white;
      }

      .dimension-presets {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 10px;
      }

      .preset-btn {
        padding: 6px 12px;
        background: var(--surface-light);
        border: 1px solid var(--border);
        border-radius: 6px;
        cursor: pointer;
        color: var(--text);
        font-size: 12px;
      }

      .preset-btn:hover {
        background: var(--border);
      }

      .image-previews {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
      }

      .image-preview {
        position: relative;
        border-radius: 8px;
        overflow: hidden;
        background-color: var(--surface-light);
        border: 1px solid var(--border);
      }

      .preview-image {
        width: 100%;
        height: 150px;
        object-fit: cover;
        display: block;
      }

      .preview-info {
        padding: 10px;
        font-size: 0.8rem;
        color: var(--text-muted);
      }

      .preview-name {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-bottom: 5px;
      }

      .preview-size {
        display: flex;
        justify-content: space-between;
      }

      .remove-btn {
        position: absolute;
        top: 5px;
        right: 5px;
        background: var(--danger);
        color: white;
        border: none;
        border-radius: 50%;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 14px;
        opacity: 0.8;
      }

      .remove-btn:hover {
        opacity: 1;
      }

      .results-container {
        margin-top: 25px;
      }

      .results-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
      }

      .result-item {
        position: relative;
        border-radius: 8px;
        overflow: hidden;
        background-color: var(--surface-light);
        border: 1px solid var(--border);
      }

      .result-image {
        width: 100%;
        height: 150px;
        object-fit: cover;
        display: block;
      }

      .result-info {
        padding: 10px;
        font-size: 0.8rem;
        color: var(--text-muted);
      }

      .result-name {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-bottom: 5px;
      }

      .result-stats {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
      }

      .download-btn {
        display: block;
        width: 100%;
        padding: 8px;
        background: var(--primary);
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.8rem;
        text-align: center;
        text-decoration: none;
      }

      .download-btn:hover {
        background: var(--primary-hover);
      }

      .batch-actions {
        display: flex;
        gap: 10px;
        margin-top: 20px;
        flex-wrap: wrap;
      }

      .progress-container {
        margin-top: 20px;
      }

      .progress-bar {
        height: 10px;
        background-color: var(--surface-light);
        border-radius: 5px;
        overflow: hidden;
        margin-bottom: 10px;
      }

      .progress-fill {
        height: 100%;
        background: var(--gradient);
        width: 0%;
        transition: width 0.3s;
      }

      .progress-text {
        text-align: center;
        color: var(--text-muted);
        font-size: 0.9rem;
      }

      .success {
        color: var(--success);
      }

      .error {
        color: var(--danger);
      }

      .warning {
        color: var(--warning);
      }

      .hidden {
        display: none;
      }

      @media (max-width: 768px) {
        .settings-grid {
          grid-template-columns: 1fr;
        }

        .image-previews,
        .results-grid {
          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        }

        .batch-actions {
          flex-direction: column;
        }

        .btn {
          width: 100%;
        }

        .dimension-controls {
          flex-direction: column;
          align-items: stretch;
        }
      }
    </style>
  </head>
  <body>
    <header class="sticky">
      <div class="wrap brand">
        <a href="/" class="logo" aria-label="Tools Pack Home">
          <img src="/assets/logo.png" alt="Tools Pack" width="60" height="60" />
        </a>
        <div>
          <h1 class="site-title" style="margin: 0">
            Image Resizer & Compressor
          </h1>
          <div class="sub">Canvas • JPEG/webp/WebP</div>
        </div>
        <div style="margin-left: auto">
          <a class="muted" href="/bn/image-resizer-compressor/" hreflang="bn"
            >বাংলা</a
          >
        </div>
      </div>
    </header>

    <div class="container">
      <!-- Breadcrumbs -->
      <nav class="breadcrumbs" aria-label="breadcrumb">
        <a href="/">Home</a> › <a href="/#image">Image Tools</a> ›
        <span>Image Resizer & Compressor</span>
      </nav>
      <header class="header">
        <h2 class="">
          Resize & Compress Images — <br />
          Fast & Private
        </h2>
        <p class="subtitle">
          Instantly <strong>shrink image dimensions</strong> and
          <strong>reduce file size</strong> without losing visible quality.
          Works 100% in your browser — <em>no uploads, no tracking</em>. Perfect
          for web, email, and mobile sharing.
        </p>
        <span class="badge">lossless & lossy</span>
        <span class="badge">WebP & JPEG</span>
        <span class="badge">offline</span>
      </header>

      <!-- TOC -->
      <!-- TOC -->
      <p class="toc" aria-label="Table of Contents">
        <a href="#upload">Upload image</a> ·
        <a href="#where">Where to use </a> ·
        <a href="#best-practices">Best Practices</a> ·
        <a href="#details">Details</a> · <a href="#faq">FAQ</a> ·
        <a href="#related">Related tools</a>
      </p>
      <section class="card tool-card">
        <h2>Image Resizer & Compressor</h2>

        <div class="upload-area" id="uploadArea">
          <div class="upload-icon">📁</div>
          <p class="upload-text">Drag & drop images here or click to browse</p>
          <p class="muted">
            Supports JPG, PNG, WebP (Max: 20 images, 10MB each)
          </p>
          <input
            type="file"
            id="fileInput"
            accept="image/*"
            multiple
            class="hidden"
          />
        </div>

        <div class="settings-grid">
          <div class="form-group">
            <label for="resizeMode" class="form-label">Resize Mode</label>
            <select id="resizeMode" class="form-select" name="resizeMode">
              <option value="none">No Resize</option>
              <option value="custom">Custom Dimensions</option>
              <option value="percentage">By Percentage</option>
            </select>
          </div>

          <div class="form-group" id="customDimensionsGroup">
            <label class="form-label">Dimensions</label>
            <div class="dimension-controls">
              <input
                type="number"
                id="widthInput"
                class="form-input dimension-input"
                min="1"
                placeholder="Width"
              />
              <span style="color: var(--text-muted)">×</span>
              <input
                type="number"
                id="heightInput"
                class="form-input dimension-input"
                min="1"
                placeholder="Height"
              />
            </div>
            <div style="display: flex; gap: 10px; margin-top: 10px">
              <button class="aspect-ratio-btn active" id="lockAspectRatio">
                Lock Ratio
              </button>
              <button class="btn" id="useOriginalBtn">Use Original Size</button>
            </div>
            <div class="dimension-presets">
              <button class="preset-btn" data-width="1920" data-height="1080">
                1920×1080
              </button>
              <button class="preset-btn" data-width="1280" data-height="720">
                1280×720
              </button>
              <button class="preset-btn" data-width="800" data-height="600">
                800×600
              </button>
              <button class="preset-btn" data-width="640" data-height="480">
                640×480
              </button>
              <button class="preset-btn" data-width="400" data-height="300">
                400×300
              </button>
            </div>
          </div>

          <div class="form-group" id="percentageGroup">
            <label for="percentageInput" class="form-label"
              >Resize Percentage</label
            >
            <div class="range-container">
              <input
                type="range"
                id="percentageInput"
                class="form-input"
                min="10"
                max="200"
                value="100"
                aria-describedby="percentageValue"
                name="resizePercentage"
              />
              <span class="range-value" id="percentageValue">100%</span>
            </div>
          </div>

          <div class="form-group">
            <label for="formatSelect" class="form-label">Output Format</label>
            <select id="formatSelect" class="form-select" name="outputFormat">
              <option value="original">Keep Original</option>
              <option value="jpeg">JPEG</option>
              <option value="png">PNG</option>
              <option value="webp">WebP</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label">Quality</label>
            <div class="range-container">
              <input
                type="range"
                id="qualityInput"
                class="form-input"
                min="10"
                max="100"
                value="80"
              />
              <span class="range-value" id="qualityValue">80%</span>
            </div>
          </div>
        </div>

        <div class="batch-actions">
          <button class="btn btn-primary" id="processBtn" disabled>
            Process All Images
          </button>
          <button class="btn" id="downloadAllBtn" disabled>
            Download All as ZIP
          </button>
          <button class="btn" id="clearBtn">Clear All</button>
        </div>

        <div class="progress-container hidden" id="progressContainer">
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
          <div class="progress-text" id="progressText">
            Processing images...
          </div>
        </div>

        <div id="imagePreviews" class="image-previews"></div>

        <div class="results-container">
          <h3>Processed Images</h3>
          <div id="resultsGrid" class="results-grid"></div>
        </div>
      </section>

      <!-- Examples -->
      <div class="card" id="where">
        <h2>Where to Use Resizing & Compression</h2>
        <div class="examples">
          <div class="example">
            <div class="example-title">📰 Blog & CMS</div>
            <div class="example-content">
              Hero images, responsive sizes, fast load
            </div>
            <span class="badge">WebP + 1600w</span>
          </div>

          <div class="example">
            <div class="example-title">🛍 E-commerce</div>
            <div class="example-content">Product thumbnails &amp; gallery</div>
            <span class="badge">cover 800×800</span>
          </div>

          <div class="example">
            <div class="example-title">📱 App Assets</div>
            <div class="example-content">Icons, screenshots, previews</div>
            <span class="badge">webp / lossless</span>
          </div>

          <div class="example">
            <div class="example-title">📧 Email</div>
            <div class="example-content">Keep under tight size limits</div>
            <span class="badge">JPEG q=70</span>
          </div>
        </div>
      </div>

      <!-- Best Practices -->
      <div class="card" id="best-practices">
        <h2>Image Optimization Best Practices</h2>
        <div class="examples">
          <div class="example">
            <div class="example-title">🖼 Choose the right format</div>
            <div class="example-content">
              Photos → JPEG/WebP. Graphics with flat colors/transparency → webp
              or lossless WebP.
            </div>
          </div>

          <div class="example">
            <div class="example-title">📐 Resize before compressing</div>
            <div class="example-content">
              Shrinking dimensions first saves far more bytes than quality
              alone.
            </div>
          </div>

          <div class="example">
            <div class="example-title">🧭 Respect orientation</div>
            <div class="example-content">
              Use EXIF-aware decoding to avoid sideways images from phones.
            </div>
          </div>

          <div class="example">
            <div class="example-title">🔍 Check sharpness</div>
            <div class="example-content">
              If results look soft, try exact pixel sizes and avoid multiple
              re-encodes.
            </div>
          </div>
        </div>
      </div>

      <!-- Technical Implementation -->
      <div class="card">
        <h2>Technical Implementation</h2>
        <div class="examples">
          <div class="example">
            <div class="example-title">⚙️ Load &amp; auto-rotate with EXIF</div>
            <div class="example-content">
              Ensure images respect original orientation metadata when
              processing.
            </div>
          </div>
        </div>
      </div>

      <!-- Information Grid -->
      <div class="info-grid" id="details">
        <!-- Basics -->
        <div class="card">
          <div class="info-section">
            <h3>🛠️ What this tool can do</h3>
            <ul>
              <li>
                <strong>Resize</strong> by width/height (keeps aspect ratio)
              </li>
              <li>
                <strong>Compress</strong> JPEG/WebP with adjustable quality
              </li>
              <li><strong>Convert</strong> between webp • JPEG • WebP</li>
              <li><strong>Auto-rotate</strong> based on EXIF orientation</li>
              <li><strong>Batch</strong> multiple images (drag &amp; drop)</li>
            </ul>
            <p class="small muted">
              All processing is local—no uploads. Great for privacy and speed.
            </p>
          </div>

          <div class="info-section">
            <h3>📋 Inputs</h3>
            <ul>
              <li><strong>Files:</strong> webp, JPEG, WebP (static)</li>
              <li>
                <strong>Target size:</strong> max width/height or exact size
              </li>
              <li>
                <strong>Quality:</strong> 1–100 (mapped to 0.01–1.0 for
                encoders)
              </li>
              <li>
                <strong>Format:</strong> webp (lossless, alpha) • JPEG (lossy) •
                WebP (lossy/lossless)
              </li>
            </ul>
          </div>
        </div>

        <!-- Output characteristics -->
        <div class="card">
          <div class="info-section">
            <h3>⚙️ Output characteristics</h3>
            <ul>
              <li>
                <strong>Transparency:</strong> Keep alpha with webp/WebP; JPEG
                fills transparent areas with a background color
              </li>
              <li><strong>Color space:</strong> sRGB canvas output</li>
              <li>
                <strong>Orientation:</strong> EXIF respected (auto-rotate) where
                supported
              </li>
            </ul>
          </div>
        </div>

        <!-- Contain vs Cover -->
        <div class="card">
          <div class="info-section">
            <h3>🎯 Contain vs. Cover</h3>
            <ul>
              <li>
                <strong>Contain:</strong> fit inside the box, no cropping
                (default)
              </li>
              <li>
                <strong>Cover:</strong> fill the box entirely; crops overflow
                (good for thumbnails)
              </li>
            </ul>
          </div>
        </div>

        <!-- How to Use -->
        <div class="card">
          <div class="info-section">
            <h3>🧩 How to use</h3>
            <ul>
              <li>
                Drag &amp; drop images or use <strong>Select Files</strong>.
              </li>
              <li>
                Choose <strong>target size</strong> (e.g., 1600 px max width)
                and <strong>format</strong> (WebP/JPEG/webp).
              </li>
              <li>
                Set <strong>quality</strong> (e.g., 80 for JPEG/WebP).
                <em>webp ignores quality for lossless output.</em>
              </li>
              <li>
                Pick <strong>contain</strong> for safe fit or
                <strong>cover</strong> to crop-fill thumbnails.
              </li>
              <li>
                Click <strong>Convert</strong>, then
                <strong>Download</strong> your optimized image(s).
              </li>
            </ul>
          </div>
        </div>

        <!-- Tips -->
        <div class="card">
          <div class="info-section">
            <h3>💡 Tips</h3>
            <ul>
              <li>
                <strong>WebP</strong> often yields the smallest files with good
                quality.
              </li>
              <li>
                For crisp UI assets, keep webp or use <em>lossless WebP</em>.
              </li>
              <li>
                JPEG/WebP quality ~<strong>70–85</strong> is a good balance for
                photos.
              </li>
              <li>
                Match export size to your layout and device pixel ratio (e.g.,
                2× for retina).
              </li>
            </ul>
          </div>
        </div>
      </div>

      <section class="faq-section card" id="faq">
        <h2 class="faq-title">Image Compressor – Frequently Asked Questions</h2>

        <div class="faq-container">
          <!-- Image Compressor FAQs -->
          <div class="faq-item">
            <button class="faq-question">
              How do I reduce image file size?
              <span class="faq-icon">+</span>
            </button>
            <div class="faq-answer">
              <p>
                Downscale width/height and use JPEG/WebP with a lower Quality
                setting, then download.
              </p>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-question">
              What formats are supported?
              <span class="faq-icon">+</span>
            </button>
            <div class="faq-answer">
              <p>
                Export as JPEG, webp, or WebP. Quality applies only to
                JPEG/WebP.
              </p>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-question">
              Does this remove EXIF/metadata?
              <span class="faq-icon">+</span>
            </button>
            <div class="faq-answer">
              <p>Yes. Canvas export typically strips EXIF/metadata.</p>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-question">
              Is my image uploaded anywhere?
              <span class="faq-icon">+</span>
            </button>
            <div class="faq-answer">
              <p>
                No. Everything happens in your browser; nothing is sent to a
                server.
              </p>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-question">
              Why is the Quality slider disabled for webp?
              <span class="faq-icon">+</span>
            </button>
            <div class="faq-answer">
              <p>
                webp is lossless, so there’s no quality/size trade-off exposed
                via the slider.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Related tools -->
      <article class="card" id="related">
        <h2>Related tools</h2>
        <p class="muted">More image &amp; color utilities:</p>
        <p>
          <a class="btn" href="/color-picker-contrast/"
            >Color Picker &amp; Contrast</a
          >
          <a class="btn" href="/text-to-pdf/">Text → PDF</a>
          <a class="btn" href="/base64/">Base64 Encode/Decode</a>
        </p>
        <p class="small">
          <span lang="bn">Prefer বাংলা?</span> Try the
          <a
            class="text-link"
            href="/bn/image-resizer-compressor/"
            hreflang="bn"
            lang="bn"
            aria-label="বাংলা সংস্করণ"
            >বাংলা সংস্করণ</a
          >.
        </p>
      </article>

      <footer>
        © <span id="y"></span> Tools Pack •
        <a class="text-link" href="/" aria-label="Tools Pack Home">Home</a> •
        <a
          class="text-link"
          href="/bn/image-resizer-compressor/"
          hreflang="bn"
          lang="bn"
          aria-label="বাংলা সংস্করণ"
          >বাংলা</a
        >
      </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // DOM elements
        const uploadArea = document.getElementById("uploadArea");
        const fileInput = document.getElementById("fileInput");
        const imagePreviews = document.getElementById("imagePreviews");
        const resultsGrid = document.getElementById("resultsGrid");
        const processBtn = document.getElementById("processBtn");
        const downloadAllBtn = document.getElementById("downloadAllBtn");
        const clearBtn = document.getElementById("clearBtn");
        const progressContainer = document.getElementById("progressContainer");
        const progressFill = document.getElementById("progressFill");
        const progressText = document.getElementById("progressText");

        // Settings elements
        const resizeMode = document.getElementById("resizeMode");
        const customDimensionsGroup = document.getElementById(
          "customDimensionsGroup"
        );
        const percentageGroup = document.getElementById("percentageGroup");
        const widthInput = document.getElementById("widthInput");
        const heightInput = document.getElementById("heightInput");
        const lockAspectRatio = document.getElementById("lockAspectRatio");
        const useOriginalBtn = document.getElementById("useOriginalBtn");
        const percentageInput = document.getElementById("percentageInput");
        const percentageValue = document.getElementById("percentageValue");
        const formatSelect = document.getElementById("formatSelect");
        const qualityInput = document.getElementById("qualityInput");
        const qualityValue = document.getElementById("qualityValue");
        const presetButtons = document.querySelectorAll(".preset-btn");

        // State
        let images = [];
        let processedImages = [];
        let aspectRatioLocked = true;
        let originalWidth = 0;
        let originalHeight = 0;

        // Event listeners
        uploadArea.addEventListener("click", () => fileInput.click());
        uploadArea.addEventListener("dragover", handleDragOver);
        uploadArea.addEventListener("dragleave", handleDragLeave);
        uploadArea.addEventListener("drop", handleDrop);
        fileInput.addEventListener("change", handleFileSelect);

        processBtn.addEventListener("click", processAllImages);
        downloadAllBtn.addEventListener("click", downloadAllAsZip);
        clearBtn.addEventListener("click", clearAll);

        // Settings event listeners
        resizeMode.addEventListener("change", updateResizeMode);
        widthInput.addEventListener("input", handleWidthChange);
        heightInput.addEventListener("input", handleHeightChange);
        lockAspectRatio.addEventListener("click", toggleAspectRatio);
        useOriginalBtn.addEventListener("click", useOriginalDimensions);
        percentageInput.addEventListener("input", updatePercentageValue);
        qualityInput.addEventListener("input", updateQualityValue);

        // Preset buttons
        presetButtons.forEach((btn) => {
          btn.addEventListener("click", () => {
            const width = btn.dataset.width;
            const height = btn.dataset.height;
            widthInput.value = width;
            heightInput.value = height;
          });
        });

        // Functions
        function handleDragOver(e) {
          e.preventDefault();
          uploadArea.classList.add("dragover");
        }

        function handleDragLeave(e) {
          e.preventDefault();
          uploadArea.classList.remove("dragover");
        }

        function handleDrop(e) {
          e.preventDefault();
          uploadArea.classList.remove("dragover");

          const files = Array.from(e.dataTransfer.files);
          handleFiles(files);
        }

        function handleFileSelect(e) {
          const files = Array.from(e.target.files);
          handleFiles(files);
        }

        function handleFiles(files) {
          // Filter only image files
          const imageFiles = files.filter((file) =>
            file.type.startsWith("image/")
          );

          // Check if adding these files would exceed the 20 limit
          if (images.length + imageFiles.length > 20) {
            alert("You can only process up to 20 images at a time.");
            return;
          }

          // Process each image file
          imageFiles.forEach((file) => {
            // Check file size (max 10MB)
            if (file.size > 10 * 1024 * 1024) {
              alert(`File ${file.name} is too large. Maximum size is 10MB.`);
              return;
            }

            const reader = new FileReader();

            reader.onload = function (e) {
              const img = new Image();
              img.onload = function () {
                // Add image to our state
                const imageData = {
                  id: Date.now() + Math.random(),
                  file: file,
                  url: e.target.result,
                  width: img.width,
                  height: img.height,
                  size: file.size,
                };

                images.push(imageData);
                createImagePreview(imageData);

                // If this is the first image, set the dimensions to its original size
                if (images.length === 1) {
                  originalWidth = img.width;
                  originalHeight = img.height;
                  widthInput.value = img.width;
                  heightInput.value = img.height;
                }

                updateButtons();
              };
              img.src = e.target.result;
            };

            reader.readAsDataURL(file);
          });

          // Reset file input
          fileInput.value = "";
        }

        function createImagePreview(imageData) {
          const preview = document.createElement("div");
          preview.className = "image-preview";
          preview.dataset.id = imageData.id;

          preview.innerHTML = `
                    <img src="${imageData.url}" alt="${
            imageData.file.name
          }" class="preview-image">
                    <button class="remove-btn" data-id="${
                      imageData.id
                    }">×</button>
                    <div class="preview-info">
                        <div class="preview-name">${imageData.file.name}</div>
                        <div class="preview-size">
                            <span>${imageData.width}×${imageData.height}</span>
                            <span>${formatFileSize(imageData.size)}</span>
                        </div>
                    </div>
                `;

          // Add remove button event
          const removeBtn = preview.querySelector(".remove-btn");
          removeBtn.addEventListener("click", (e) => {
            e.stopPropagation();
            removeImage(imageData.id);
          });

          imagePreviews.appendChild(preview);
        }

        function removeImage(id) {
          // Remove from state
          images = images.filter((img) => img.id !== id);

          // Remove from DOM
          const preview = document.querySelector(
            `.image-preview[data-id="${id}"]`
          );
          if (preview) {
            preview.remove();
          }

          // Also remove from processed images if exists
          processedImages = processedImages.filter(
            (img) => img.originalId !== id
          );
          const result = document.querySelector(
            `.result-item[data-id="${id}"]`
          );
          if (result) {
            result.remove();
          }

          updateButtons();
        }

        function updateButtons() {
          processBtn.disabled = images.length === 0;
          downloadAllBtn.disabled = processedImages.length === 0;
        }

        function updateResizeMode() {
          const mode = resizeMode.value;

          // Show/hide relevant sections
          customDimensionsGroup.style.display =
            mode === "custom" ? "block" : "none";
          percentageGroup.style.display =
            mode === "percentage" ? "block" : "none";
        }

        function handleWidthChange() {
          if (aspectRatioLocked && originalWidth > 0 && originalHeight > 0) {
            const ratio = originalHeight / originalWidth;
            heightInput.value = Math.round(widthInput.value * ratio);
          }
        }

        function handleHeightChange() {
          if (aspectRatioLocked && originalWidth > 0 && originalHeight > 0) {
            const ratio = originalWidth / originalHeight;
            widthInput.value = Math.round(heightInput.value * ratio);
          }
        }

        function toggleAspectRatio() {
          aspectRatioLocked = !aspectRatioLocked;
          lockAspectRatio.classList.toggle("active", aspectRatioLocked);
          lockAspectRatio.textContent = aspectRatioLocked
            ? "Lock Ratio"
            : "Unlock Ratio";
        }

        function useOriginalDimensions() {
          if (images.length > 0) {
            // Use the first image's dimensions
            const firstImage = images[0];
            originalWidth = firstImage.width;
            originalHeight = firstImage.height;
            widthInput.value = firstImage.width;
            heightInput.value = firstImage.height;
          }
        }

        function updatePercentageValue() {
          percentageValue.textContent = `${percentageInput.value}%`;
        }

        function updateQualityValue() {
          qualityValue.textContent = `${qualityInput.value}%`;
        }

        function processAllImages() {
          if (images.length === 0) return;

          // Show progress
          progressContainer.classList.remove("hidden");
          progressFill.style.width = "0%";
          progressText.textContent = "Processing images...";

          // Clear previous results
          resultsGrid.innerHTML = "";
          processedImages = [];

          // Process each image
          let completed = 0;

          images.forEach((imageData, index) => {
            setTimeout(() => {
              processImage(imageData).then((processedImage) => {
                processedImages.push(processedImage);
                createResultItem(processedImage);

                completed++;
                const progress = (completed / images.length) * 100;
                progressFill.style.width = `${progress}%`;
                progressText.textContent = `Processed ${completed} of ${images.length} images`;

                if (completed === images.length) {
                  progressText.innerHTML = `<span class="success">Processing complete! ${processedImages.length} images processed.</span>`;
                  updateButtons();
                }
              });
            }, index * 100); // Stagger processing to avoid blocking UI
          });
        }

        function processImage(imageData) {
          return new Promise((resolve) => {
            const img = new Image();
            img.onload = function () {
              // Calculate new dimensions based on resize mode
              let newWidth = img.width;
              let newHeight = img.height;

              const mode = resizeMode.value;

              switch (mode) {
                case "custom":
                  newWidth = parseInt(widthInput.value) || img.width;
                  newHeight = parseInt(heightInput.value) || img.height;
                  break;
                case "percentage":
                  const percentage = parseInt(percentageInput.value) || 100;
                  newWidth = Math.round((img.width * percentage) / 100);
                  newHeight = Math.round((img.height * percentage) / 100);
                  break;
                // 'none' - keep original dimensions
              }

              // Create canvas
              const canvas = document.createElement("canvas");
              canvas.width = newWidth;
              canvas.height = newHeight;

              const ctx = canvas.getContext("2d");

              // Set higher quality for image rendering
              ctx.imageSmoothingEnabled = true;
              ctx.imageSmoothingQuality = "high";

              // Draw image with new dimensions
              ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

              // Determine output format and quality
              let mimeType = "image/jpeg";
              let quality = parseInt(qualityInput.value) / 100;

              const format = formatSelect.value;
              if (format === "original") {
                mimeType = imageData.file.type;
              } else if (format === "png") {
                mimeType = "image/png";
                // PNG doesn't use quality parameter
                quality = undefined;
              } else if (format === "webp") {
                mimeType = "image/webp";
              }

              // Convert to blob
              canvas.toBlob(
                (blob) => {
                  const url = URL.createObjectURL(blob);

                  resolve({
                    originalId: imageData.id,
                    name: imageData.file.name,
                    url: url,
                    blob: blob,
                    width: canvas.width,
                    height: canvas.height,
                    size: blob.size,
                    format: mimeType,
                  });
                },
                mimeType,
                quality
              );
            };

            img.src = imageData.url;
          });
        }

        function createResultItem(processedImage) {
          const resultItem = document.createElement("div");
          resultItem.className = "result-item";
          resultItem.dataset.id = processedImage.originalId;

          // Find original image for comparison
          const originalImage = images.find(
            (img) => img.id === processedImage.originalId
          );
          const sizeReduction = originalImage
            ? Math.round((1 - processedImage.size / originalImage.size) * 100)
            : 0;

          resultItem.innerHTML = `
                    <img src="${processedImage.url}" alt="${
            processedImage.name
          }" class="result-image">
                    <div class="result-info">
                        <div class="result-name">${processedImage.name}</div>
                        <div class="result-stats">
                            <span>${processedImage.width}×${
            processedImage.height
          }</span>
                            <span>${formatFileSize(processedImage.size)}</span>
                        </div>
                        <div class="result-stats">
                            <span>${
                              sizeReduction > 0
                                ? `↓${sizeReduction}%`
                                : "No reduction"
                            }</span>
                            <span>${getFormatName(processedImage.format)}</span>
                        </div>
                        <a href="${
                          processedImage.url
                        }" download="${getDownloadName(
            processedImage.name,
            processedImage.format
          )}" class="download-btn">Download</a>
                    </div>
                `;

          resultsGrid.appendChild(resultItem);
        }

        async function downloadAllAsZip() {
          if (processedImages.length === 0) return;

          // Show progress
          progressContainer.classList.remove("hidden");
          progressFill.style.width = "0%";
          progressText.textContent = "Creating ZIP archive...";

          try {
            // Create zip
            const zip = new JSZip();

            // Add each processed image to zip
            processedImages.forEach((image, index) => {
              const extension = getFileExtension(image.format);
              const name =
                getDownloadName(image.name, image.format, false) +
                "." +
                extension;

              // Add file to ZIP with proper binary data
              zip.file(name, image.blob, { binary: true });

              // Update progress
              const progress = ((index + 1) / processedImages.length) * 100;
              progressFill.style.width = `${progress}%`;
              progressText.textContent = `Adding ${index + 1} of ${
                processedImages.length
              } files to ZIP`;
            });

            // Generate ZIP file
            const content = await zip.generateAsync({
              type: "blob",
              compression: "DEFLATE",
              compressionOptions: { level: 6 },
            });

            // Create download link
            const url = URL.createObjectURL(content);
            const a = document.createElement("a");
            a.href = url;
            a.download = "compressed_images.zip";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            // Update progress
            progressText.innerHTML = `<span class="success">ZIP download complete! ${processedImages.length} images archived.</span>`;
          } catch (error) {
            console.error("Error creating ZIP:", error);
            progressText.innerHTML = `<span class="error">Error creating ZIP file: ${error.message}</span>`;
          }
        }

        function clearAll() {
          // Clear state
          images = [];
          processedImages = [];

          // Clear DOM
          imagePreviews.innerHTML = "";
          resultsGrid.innerHTML = "";

          // Hide progress
          progressContainer.classList.add("hidden");

          // Update buttons
          updateButtons();
        }

        function formatFileSize(bytes) {
          if (bytes < 1024) return bytes + " B";
          else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + " KB";
          else return (bytes / 1048576).toFixed(1) + " MB";
        }

        function getDownloadName(
          originalName,
          format,
          includeExtension = true
        ) {
          const nameWithoutExt = originalName.replace(/\.[^/.]+$/, "");
          const extension = getFileExtension(format);

          if (!includeExtension) return nameWithoutExt + "_compressed";

          return `${nameWithoutExt}_compressed.${extension}`;
        }

        function getFileExtension(format) {
          switch (format) {
            case "image/jpeg":
              return "jpg";
            case "image/png":
              return "png";
            case "image/webp":
              return "webp";
            default:
              return "jpg";
          }
        }

        function getFormatName(format) {
          switch (format) {
            case "image/jpeg":
              return "JPEG";
            case "image/png":
              return "PNG";
            case "image/webp":
              return "WebP";
            default:
              return format.split("/")[1]?.toUpperCase() || "IMG";
          }
        }

        // Initialize
        updateResizeMode();
        updatePercentageValue();
        updateQualityValue();
      });
    </script>

    <script src="/assets/tracker.js" defer data-trk-site="tools-pack"></script>
    <script src="/assets/related-more.js" defer></script>
    <script src="/assets/script.js" defer></script>
    <noscript
      >Your browser has JavaScript disabled; this tool needs JavaScript to
      work.</noscript
    >
  </body>
</html>
