<!DOCTYPE html>
<html lang="bn">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶¨‡ßü‡¶∏ ‡¶®‡¶ø‡¶∞‡ßç‡¶£‡¶æ‡ßü‡¶ï ‚Äî ‡¶¨‡¶õ‡¶∞, ‡¶Æ‡¶æ‡¶∏ ‡¶ì ‡¶¶‡¶ø‡¶® | Tools Pack</title>
    <meta
      name="description"
      content="‡¶ú‡¶®‡ßç‡¶Æ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶¶‡¶ø‡ßü‡ßá ‡¶∏‡¶π‡¶ú‡ßá ‡¶¨‡ßü‡¶∏ ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® (‡¶¨‡¶õ‡¶∞, ‡¶Æ‡¶æ‡¶∏, ‡¶¶‡¶ø‡¶®)‡•§ ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶ú‡¶®‡ßç‡¶Æ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶∞‡¶ø‡¶Æ‡¶æ‡¶á‡¶®‡ßç‡¶°‡¶æ‡¶∞‡¶∏‡¶π‡•§"
    />
    <link
      rel="canonical"
      href="https://tools-pack.netlify.app/bn/age-calculator/"
    />
    <link
      rel="alternate"
      hreflang="en"
      href="https://tools-pack.netlify.app/age-calculator/"
    />
    <link
      rel="alternate"
      hreflang="bn"
      href="https://tools-pack.netlify.app/bn/age-calculator/"
    />
    <link
      rel="alternate"
      hreflang="x-default"
      href="https://tools-pack.netlify.app/"
    />
    <link rel="stylesheet" href="../../assets/style.css" />
    <meta name="theme-color" content="#1E1E2F" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="‡¶¨‡ßü‡¶∏ ‡¶®‡¶ø‡¶∞‡ßç‡¶£‡¶æ‡ßü‡¶ï ‚Äî Tools Pack" />
    <meta property="og:description" content="‡¶¨‡¶õ‡¶∞/‡¶Æ‡¶æ‡¶∏/‡¶¶‡¶ø‡¶® + ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶ú‡¶®‡ßç‡¶Æ‡¶¶‡¶ø‡¶®‡•§" />
    <meta
      property="og:url"
      content="https://tools-pack.netlify.app/bn/age-calculator/"
    />
    <meta
      property="og:image"
      content="https://tools-pack.netlify.app/og/age.png"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "‡¶¨‡ßü‡¶∏ ‡¶®‡¶ø‡¶∞‡ßç‡¶£‡¶æ‡ßü‡¶ï",
        "url": "https://tools-pack.netlify.app/bn/age-calculator/",
        "applicationCategory": "Utility",
        "operatingSystem": "All",
        "description": "‡¶¨‡ßü‡¶∏ ‡¶ì ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶ú‡¶®‡ßç‡¶Æ‡¶¶‡¶ø‡¶® ‡¶ó‡¶£‡¶®‡¶æ‡•§",
        "inLanguage": "bn"
      }
    </script>
  </head>
  <body>
    <header class="sticky">
      <div class="wrap brand">
        <a href="/bn/"><div class="logo"></div></a>
        <div>
          <h1 style="margin: 0">‡¶¨‡ßü‡¶∏ ‡¶®‡¶ø‡¶∞‡ßç‡¶£‡¶æ‡ßü‡¶ï</h1>
          <div class="sub">‡¶¨‡¶õ‡¶∞ ‚Ä¢ ‡¶Æ‡¶æ‡¶∏ ‚Ä¢ ‡¶¶‡¶ø‡¶®</div>
        </div>
      </div>
    </header>
    <main class="wrap">
      <article class="card">
        <h2>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶¶‡¶ø‡¶®</h2>
        <div
          class="grid"
          style="grid-template-columns: repeat(12, 1fr); gap: 10px"
        >
          <label class="field" style="grid-column: span 6"
            ><span class="muted">‡¶ú‡¶®‡ßç‡¶Æ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</span>
            <input id="dob" class="field" type="date" />
          </label>
          <label class="field" style="grid-column: span 6"
            ><span class="muted">‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§</span>
            <input id="asof" class="field" type="date" />
          </label>
        </div>
        <div style="margin-top: 10px">
          <button class="btn btn-primary" id="calc">‡¶ó‡¶£‡¶®‡¶æ</button>
          <button class="btn" id="reset">‡¶∞‡¶ø‡¶∏‡ßá‡¶ü</button>
          <button class="btn" id="copy">‡¶ï‡¶™‡¶ø</button>
        </div>
        <textarea
          id="out"
          class="textarea mono"
          readonly
          placeholder="‡¶´‡¶≤‡¶æ‡¶´‡¶≤‚Ä¶"
        ></textarea>
        <div class="muted" id="next"></div>
      </article>
    </main>
    <footer>¬© <span id="y"></span> Tools Pack</footer>

    <script>
      const $ = (s) => document.querySelector(s);
      y.textContent = new Date().getFullYear();

      const todayStr = () => {
        const t = new Date(),
          y = t.getFullYear(),
          m = String(t.getMonth() + 1).padStart(2, "0"),
          d = String(t.getDate()).padStart(2, "0");
        return `${y}-${m}-${d}`;
      };

      asof.value = todayStr();
      dob.max = asof.max = todayStr();

      // Auto open date picker with fallback
      function openDatePicker() {
        if (dob.showPicker) {
          try {
            dob.showPicker();
          } catch {
            dob.focus();
          }
        } else {
          dob.focus();
        }
      }

      // ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶è‡¶ï‡¶ü‡ßÅ delay ‡¶¶‡¶ø‡ßü‡ßá ‡¶ì‡¶™‡ßá‡¶®
      window.addEventListener("load", () => {
        setTimeout(openDatePicker, 150);
      });

      // ‡¶Ø‡¶¶‡¶ø ‡¶®‡¶æ ‡¶ñ‡ßã‡¶≤‡ßá ‚Üí ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ
      document.body.addEventListener(
        "click",
        () => {
          openDatePicker();
        },
        { once: true }
      );

      const parse = (s) => {
        const [y, m, d] = (s || "").split("-").map(Number);
        return y && m && d ? { y, m, d } : null;
      };

      const toD = (o) => new Date(o.y, o.m - 1, o.d);
      const isLeap = (y) => (y % 4 === 0 && y % 100 !== 0) || y % 400 === 0;

      const diff = (b, a) => {
        let y = a.y - b.y,
          m = a.m - b.m,
          d = a.d - b.d;
        if (d < 0) {
          d += new Date(a.y, a.m - 1, 0).getDate();
          m--;
        }
        if (m < 0) {
          m += 12;
          y--;
        }
        return { y, m, d };
      };

      const days = (A, B) =>
        Math.round(
          (Date.UTC(B.getFullYear(), B.getMonth(), B.getDate()) -
            Date.UTC(A.getFullYear(), A.getMonth(), A.getDate())) /
            86400000
        );

      const bday = (dob, yr) =>
        new Date(
          yr,
          (dob.m === 2 && dob.d === 29 && !isLeap(yr) ? 1 : dob.m) - 1,
          dob.m === 2 && dob.d === 29 && !isLeap(yr) ? 28 : dob.d
        );

      calc.onclick = () => {
        const B = parse(dob.value),
          A = parse(asof.value || todayStr());
        if (!B) {
          out.value = "‡¶ú‡¶®‡ßç‡¶Æ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶¶‡¶ø‡¶®‡•§";
          openDatePicker();
          return;
        }
        if (!A) {
          out.value = "'‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§' ‡¶´‡¶æ‡¶Å‡¶ï‡¶æ‡•§";
          asof.focus();
          return;
        }
        const Bd = toD(B),
          Ad = toD(A);
        if (Ad < Bd) {
          out.value = "‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø: '‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§' ‡¶ú‡¶®‡ßç‡¶Æ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ‡ßá‡¶∞ ‡¶Ü‡¶ó‡ßá‡•§";
          next.textContent = "";
          return;
        }
        const a = diff(B, A),
          total = days(Bd, Ad);
        let nb = bday(B, A.y);
        if (days(Ad, nb) < 0) nb = bday(B, A.y + 1);
        const left = days(Ad, nb),
          turning = a.y + (left ? 1 : 0);
        out.value = `‡¶¨‡ßü‡¶∏: ${a.y} ‡¶¨‡¶õ‡¶∞, ${a.m} ‡¶Æ‡¶æ‡¶∏, ${
          a.d
        } ‡¶¶‡¶ø‡¶®\n‡¶Æ‡ßã‡¶ü ‡¶¶‡¶ø‡¶®: ${total.toLocaleString()}`;
        next.textContent =
          left === 0
            ? `üéâ ‡¶Ü‡¶ú (${nb.toDateString()}) ‚Äî ${a.y}`
            : `‡¶™‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Æ‡¶¶‡¶ø‡¶® ${left} ‡¶¶‡¶ø‡¶® ‡¶™‡¶∞ ‚Äî ${nb.toDateString()} (‡¶π‡¶¨‡ßá ${turning})`;
      };

      reset.onclick = () => {
        dob.value = "";
        asof.value = todayStr();
        out.value = "";
        next.textContent = "";
        openDatePicker();
      };

      copy.onclick = () =>
        navigator.clipboard.writeText(
          out.value + (next.textContent ? `\n${next.textContent}` : "")
        );
    </script>
  </body>
</html>
